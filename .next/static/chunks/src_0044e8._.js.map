{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/user/Desktop/Nextgram/next-chat/src/components/ui/navigation-menu.tsx"],"sourcesContent":["import * as React from \"react\"\nimport * as NavigationMenuPrimitive from \"@radix-ui/react-navigation-menu\"\nimport { cva } from \"class-variance-authority\"\nimport { ChevronDown } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst NavigationMenu = React.forwardRef<\n  React.ElementRef<typeof NavigationMenuPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof NavigationMenuPrimitive.Root>\n>(({ className, children, ...props }, ref) => (\n  <NavigationMenuPrimitive.Root\n    ref={ref}\n    className={cn(\n      \"relative z-10 flex max-w-max flex-1 items-center justify-center\",\n      className\n    )}\n    {...props}\n  >\n    {children}\n    <NavigationMenuViewport />\n  </NavigationMenuPrimitive.Root>\n))\nNavigationMenu.displayName = NavigationMenuPrimitive.Root.displayName\n\nconst NavigationMenuList = React.forwardRef<\n  React.ElementRef<typeof NavigationMenuPrimitive.List>,\n  React.ComponentPropsWithoutRef<typeof NavigationMenuPrimitive.List>\n>(({ className, ...props }, ref) => (\n  <NavigationMenuPrimitive.List\n    ref={ref}\n    className={cn(\n      \"group flex flex-1 list-none items-center justify-center space-x-1\",\n      className\n    )}\n    {...props}\n  />\n))\nNavigationMenuList.displayName = NavigationMenuPrimitive.List.displayName\n\nconst NavigationMenuItem = NavigationMenuPrimitive.Item\n\nconst navigationMenuTriggerStyle = cva(\n  \"group inline-flex h-10 w-max items-center justify-center rounded-md bg-background px-4 py-2 text-sm font-medium transition-colors hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground focus:outline-none disabled:pointer-events-none disabled:opacity-50 data-[active]:bg-accent/50 data-[state=open]:bg-accent/50\"\n)\n\nconst NavigationMenuTrigger = React.forwardRef<\n  React.ElementRef<typeof NavigationMenuPrimitive.Trigger>,\n  React.ComponentPropsWithoutRef<typeof NavigationMenuPrimitive.Trigger>\n>(({ className, children, ...props }, ref) => (\n  <NavigationMenuPrimitive.Trigger\n    ref={ref}\n    className={cn(navigationMenuTriggerStyle(), \"group\", className)}\n    {...props}\n  >\n    {children}{\" \"}\n    <ChevronDown\n      className=\"relative top-[1px] ml-1 h-3 w-3 transition duration-200 group-data-[state=open]:rotate-180\"\n      aria-hidden=\"true\"\n    />\n  </NavigationMenuPrimitive.Trigger>\n))\nNavigationMenuTrigger.displayName = NavigationMenuPrimitive.Trigger.displayName\n\nconst NavigationMenuContent = React.forwardRef<\n  React.ElementRef<typeof NavigationMenuPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof NavigationMenuPrimitive.Content>\n>(({ className, ...props }, ref) => (\n  <NavigationMenuPrimitive.Content\n    ref={ref}\n    className={cn(\n      \"left-0 top-0 w-full data-[motion^=from-]:animate-in data-[motion^=to-]:animate-out data-[motion^=from-]:fade-in data-[motion^=to-]:fade-out data-[motion=from-end]:slide-in-from-right-52 data-[motion=from-start]:slide-in-from-left-52 data-[motion=to-end]:slide-out-to-right-52 data-[motion=to-start]:slide-out-to-left-52 md:absolute md:w-auto \",\n      className\n    )}\n    {...props}\n  />\n))\nNavigationMenuContent.displayName = NavigationMenuPrimitive.Content.displayName\n\nconst NavigationMenuLink = NavigationMenuPrimitive.Link\n\nconst NavigationMenuViewport = React.forwardRef<\n  React.ElementRef<typeof NavigationMenuPrimitive.Viewport>,\n  React.ComponentPropsWithoutRef<typeof NavigationMenuPrimitive.Viewport>\n>(({ className, ...props }, ref) => (\n  <div className={cn(\"absolute left-0 top-full flex justify-center\")}>\n    <NavigationMenuPrimitive.Viewport\n      className={cn(\n        \"origin-top-center relative mt-1.5 h-[var(--radix-navigation-menu-viewport-height)] w-full overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-90 md:w-[var(--radix-navigation-menu-viewport-width)]\",\n        className\n      )}\n      ref={ref}\n      {...props}\n    />\n  </div>\n))\nNavigationMenuViewport.displayName =\n  NavigationMenuPrimitive.Viewport.displayName\n\nconst NavigationMenuIndicator = React.forwardRef<\n  React.ElementRef<typeof NavigationMenuPrimitive.Indicator>,\n  React.ComponentPropsWithoutRef<typeof NavigationMenuPrimitive.Indicator>\n>(({ className, ...props }, ref) => (\n  <NavigationMenuPrimitive.Indicator\n    ref={ref}\n    className={cn(\n      \"top-full z-[1] flex h-1.5 items-end justify-center overflow-hidden data-[state=visible]:animate-in data-[state=hidden]:animate-out data-[state=hidden]:fade-out data-[state=visible]:fade-in\",\n      className\n    )}\n    {...props}\n  >\n    <div className=\"relative top-[60%] h-2 w-2 rotate-45 rounded-tl-sm bg-border shadow-md\" />\n  </NavigationMenuPrimitive.Indicator>\n))\nNavigationMenuIndicator.displayName =\n  NavigationMenuPrimitive.Indicator.displayName\n\nexport {\n  navigationMenuTriggerStyle,\n  NavigationMenu,\n  NavigationMenuList,\n  NavigationMenuItem,\n  NavigationMenuContent,\n  NavigationMenuTrigger,\n  NavigationMenuLink,\n  NavigationMenuIndicator,\n  NavigationMenuViewport,\n}\n"],"names":[],"mappings":";;;;;;;;;;;;AAAA;AAEA;AAGA;AAJA;AAEA;;;;;;;AAIA,MAAM,+BAAiB,8JAAM,UAAU,MAGrC,CAAC,EAAE,SAAS,EAAE,QAAQ,EAAE,GAAG,OAAO,EAAE,oBACpC,6LAAC,kLAAwB,IAAI;QAC3B,KAAK;QACL,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACV,mEACA;QAED,GAAG,KAAK;;YAER;0BACD,6LAAC;;;;;;;;;;;;AAGL,eAAe,WAAW,GAAG,kLAAwB,IAAI,CAAC,WAAW;AAErE,MAAM,mCAAqB,8JAAM,UAAU,OAGzC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC,kLAAwB,IAAI;QAC3B,KAAK;QACL,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACV,qEACA;QAED,GAAG,KAAK;;;;;;;AAGb,mBAAmB,WAAW,GAAG,kLAAwB,IAAI,CAAC,WAAW;AAEzE,MAAM,qBAAqB,kLAAwB,IAAI;AAEvD,MAAM,6BAA6B,CAAA,GAAA,mKAAA,CAAA,MAAG,AAAD,EACnC;AAGF,MAAM,sCAAwB,8JAAM,UAAU,OAG5C,CAAC,EAAE,SAAS,EAAE,QAAQ,EAAE,GAAG,OAAO,EAAE,oBACpC,6LAAC,kLAAwB,OAAO;QAC9B,KAAK;QACL,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EAAE,8BAA8B,SAAS;QACpD,GAAG,KAAK;;YAER;YAAU;0BACX,6LAAC,uNAAA,CAAA,cAAW;gBACV,WAAU;gBACV,eAAY;;;;;;;;;;;;;AAIlB,sBAAsB,WAAW,GAAG,kLAAwB,OAAO,CAAC,WAAW;AAE/E,MAAM,sCAAwB,8JAAM,UAAU,OAG5C,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC,kLAAwB,OAAO;QAC9B,KAAK;QACL,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACV,0VACA;QAED,GAAG,KAAK;;;;;;;AAGb,sBAAsB,WAAW,GAAG,kLAAwB,OAAO,CAAC,WAAW;AAE/E,MAAM,qBAAqB,kLAAwB,IAAI;AAEvD,MAAM,uCAAyB,8JAAM,UAAU,CAG7C,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC;QAAI,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EAAE;kBACjB,cAAA,6LAAC,kLAAwB,QAAQ;YAC/B,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACV,yVACA;YAEF,KAAK;YACJ,GAAG,KAAK;;;;;;;;;;;MAXT;AAeN,uBAAuB,WAAW,GAChC,kLAAwB,QAAQ,CAAC,WAAW;AAE9C,MAAM,wCAA0B,8JAAM,UAAU,OAG9C,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC,kLAAwB,SAAS;QAChC,KAAK;QACL,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACV,gMACA;QAED,GAAG,KAAK;kBAET,cAAA,6LAAC;YAAI,WAAU;;;;;;;;;;;;AAGnB,wBAAwB,WAAW,GACjC,kLAAwB,SAAS,CAAC,WAAW"}},
    {"offset": {"line": 149, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 155, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/user/Desktop/Nextgram/next-chat/src/components/ui/separator.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport * as SeparatorPrimitive from \"@radix-ui/react-separator\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Separator = React.forwardRef<\n  React.ElementRef<typeof SeparatorPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof SeparatorPrimitive.Root>\n>(\n  (\n    { className, orientation = \"horizontal\", decorative = true, ...props },\n    ref\n  ) => (\n    <SeparatorPrimitive.Root\n      ref={ref}\n      decorative={decorative}\n      orientation={orientation}\n      className={cn(\n        \"shrink-0 bg-border\",\n        orientation === \"horizontal\" ? \"h-[1px] w-full\" : \"h-full w-[1px]\",\n        className\n      )}\n      {...props}\n    />\n  )\n)\nSeparator.displayName = SeparatorPrimitive.Root.displayName\n\nexport { Separator }\n"],"names":[],"mappings":";;;;AAEA;AAGA;AAFA;AAHA;;;;;AAOA,MAAM,0BAAY,8JAAM,UAAU,MAIhC,CACE,EAAE,SAAS,EAAE,cAAc,YAAY,EAAE,aAAa,IAAI,EAAE,GAAG,OAAO,EACtE,oBAEA,6LAAC,yKAAmB,IAAI;QACtB,KAAK;QACL,YAAY;QACZ,aAAa;QACb,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACV,sBACA,gBAAgB,eAAe,mBAAmB,kBAClD;QAED,GAAG,KAAK;;;;;;;AAIf,UAAU,WAAW,GAAG,yKAAmB,IAAI,CAAC,WAAW"}},
    {"offset": {"line": 187, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 193, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/user/Desktop/Nextgram/next-chat/src/components/ui/textarea.tsx"],"sourcesContent":["import * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Textarea = React.forwardRef<\n  HTMLTextAreaElement,\n  React.ComponentProps<\"textarea\">\n>(({ className, ...props }, ref) => {\n  return (\n    <textarea\n      className={cn(\n        \"flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm\",\n        className\n      )}\n      ref={ref}\n      {...props}\n    />\n  )\n})\nTextarea.displayName = \"Textarea\"\n\nexport { Textarea }\n"],"names":[],"mappings":";;;;AAAA;AAEA;;;;AAEA,MAAM,yBAAW,8JAAM,UAAU,MAG/B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE;IAC1B,qBACE,6LAAC;QACC,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACV,qTACA;QAEF,KAAK;QACJ,GAAG,KAAK;;;;;;AAGf;;AACA,SAAS,WAAW,GAAG"}},
    {"offset": {"line": 222, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 228, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/user/Desktop/Nextgram/next-chat/src/components/ui/toggle.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport * as TogglePrimitive from \"@radix-ui/react-toggle\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst toggleVariants = cva(\n  \"inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors hover:bg-muted hover:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=on]:bg-accent data-[state=on]:text-accent-foreground [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 gap-2\",\n  {\n    variants: {\n      variant: {\n        default: \"bg-transparent\",\n        outline:\n          \"border border-input bg-transparent hover:bg-accent hover:text-accent-foreground\",\n      },\n      size: {\n        default: \"h-10 px-3 min-w-10\",\n        sm: \"h-9 px-2.5 min-w-9\",\n        lg: \"h-11 px-5 min-w-11\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n      size: \"default\",\n    },\n  }\n)\n\nconst Toggle = React.forwardRef<\n  React.ElementRef<typeof TogglePrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof TogglePrimitive.Root> &\n    VariantProps<typeof toggleVariants>\n>(({ className, variant, size, ...props }, ref) => (\n  <TogglePrimitive.Root\n    ref={ref}\n    className={cn(toggleVariants({ variant, size, className }))}\n    {...props}\n  />\n))\n\nToggle.displayName = TogglePrimitive.Root.displayName\n\nexport { Toggle, toggleVariants }\n"],"names":[],"mappings":";;;;;AAEA;AAEA;AAEA;AAHA;AAHA;;;;;;AAQA,MAAM,iBAAiB,CAAA,GAAA,mKAAA,CAAA,MAAG,AAAD,EACvB,sbACA;IACE,UAAU;QACR,SAAS;YACP,SAAS;YACT,SACE;QACJ;QACA,MAAM;YACJ,SAAS;YACT,IAAI;YACJ,IAAI;QACN;IACF;IACA,iBAAiB;QACf,SAAS;QACT,MAAM;IACR;AACF;AAGF,MAAM,uBAAS,8JAAM,UAAU,MAI7B,CAAC,EAAE,SAAS,EAAE,OAAO,EAAE,IAAI,EAAE,GAAG,OAAO,EAAE,oBACzC,6LAAC,sKAAgB,IAAI;QACnB,KAAK;QACL,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EAAE,eAAe;YAAE;YAAS;YAAM;QAAU;QACvD,GAAG,KAAK;;;;;;;AAIb,OAAO,WAAW,GAAG,sKAAgB,IAAI,CAAC,WAAW"}},
    {"offset": {"line": 282, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 288, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/user/Desktop/Nextgram/next-chat/src/components/ui/toggle-group.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport * as ToggleGroupPrimitive from \"@radix-ui/react-toggle-group\"\nimport { type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\nimport { toggleVariants } from \"@/components/ui/toggle\"\n\nconst ToggleGroupContext = React.createContext<\n  VariantProps<typeof toggleVariants>\n>({\n  size: \"default\",\n  variant: \"default\",\n})\n\nconst ToggleGroup = React.forwardRef<\n  React.ElementRef<typeof ToggleGroupPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof ToggleGroupPrimitive.Root> &\n    VariantProps<typeof toggleVariants>\n>(({ className, variant, size, children, ...props }, ref) => (\n  <ToggleGroupPrimitive.Root\n    ref={ref}\n    className={cn(\"flex items-center justify-center gap-1\", className)}\n    {...props}\n  >\n    <ToggleGroupContext.Provider value={{ variant, size }}>\n      {children}\n    </ToggleGroupContext.Provider>\n  </ToggleGroupPrimitive.Root>\n))\n\nToggleGroup.displayName = ToggleGroupPrimitive.Root.displayName\n\nconst ToggleGroupItem = React.forwardRef<\n  React.ElementRef<typeof ToggleGroupPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof ToggleGroupPrimitive.Item> &\n    VariantProps<typeof toggleVariants>\n>(({ className, children, variant, size, ...props }, ref) => {\n  const context = React.useContext(ToggleGroupContext)\n\n  return (\n    <ToggleGroupPrimitive.Item\n      ref={ref}\n      className={cn(\n        toggleVariants({\n          variant: context.variant || variant,\n          size: context.size || size,\n        }),\n        className\n      )}\n      {...props}\n    >\n      {children}\n    </ToggleGroupPrimitive.Item>\n  )\n})\n\nToggleGroupItem.displayName = ToggleGroupPrimitive.Item.displayName\n\nexport { ToggleGroup, ToggleGroupItem }\n"],"names":[],"mappings":";;;;;AAEA;AAIA;AACA;AAJA;;;AAHA;;;;;AASA,MAAM,mCAAqB,8JAAM,aAAa,CAE5C;IACA,MAAM;IACN,SAAS;AACX;AAEA,MAAM,4BAAc,8JAAM,UAAU,MAIlC,CAAC,EAAE,SAAS,EAAE,OAAO,EAAE,IAAI,EAAE,QAAQ,EAAE,GAAG,OAAO,EAAE,oBACnD,6LAAC,+KAAqB,IAAI;QACxB,KAAK;QACL,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EAAE,0CAA0C;QACvD,GAAG,KAAK;kBAET,cAAA,6LAAC,mBAAmB,QAAQ;YAAC,OAAO;gBAAE;gBAAS;YAAK;sBACjD;;;;;;;;;;;;AAKP,YAAY,WAAW,GAAG,+KAAqB,IAAI,CAAC,WAAW;AAE/D,MAAM,gCAAkB,GAAA,8JAAM,UAAU,UAItC,CAAC,EAAE,SAAS,EAAE,QAAQ,EAAE,OAAO,EAAE,IAAI,EAAE,GAAG,OAAO,EAAE;;IACnD,MAAM,UAAU,8JAAM,UAAU,CAAC;IAEjC,qBACE,6LAAC,+KAAqB,IAAI;QACxB,KAAK;QACL,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACV,CAAA,GAAA,qIAAA,CAAA,iBAAc,AAAD,EAAE;YACb,SAAS,QAAQ,OAAO,IAAI;YAC5B,MAAM,QAAQ,IAAI,IAAI;QACxB,IACA;QAED,GAAG,KAAK;kBAER;;;;;;AAGP;;AAEA,gBAAgB,WAAW,GAAG,+KAAqB,IAAI,CAAC,WAAW"}},
    {"offset": {"line": 358, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 364, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/user/Desktop/Nextgram/next-chat/src/hooks/user-mutation-handler.tsx"],"sourcesContent":["import { useMutation } from \"convex/react\"\r\nimport { useCallback, useState } from \"react\"\r\n\r\n\r\ntype MutationState='idle'|'loading'|'success'|'error'\r\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\r\nexport const useMutationHandler=<T,P>(mutation:any)=>{\r\n    const [state,setState]=useState<MutationState>('idle')\r\n    const mutationFn=useMutation(mutation)\r\n\r\n    const mutate=useCallback(async(payload:P):Promise<T|null>=>{\r\n        setState('loading')\r\n        try {\r\n           const result=await mutationFn(payload) \r\n           setState('success')\r\n           return result\r\n        } catch (error) {\r\n            setState('error')\r\n            console.log('Mutation error',error)\r\n            throw error\r\n        }\r\n        finally{\r\n            setState('idle')\r\n        }\r\n    },[mutationFn])\r\n    return {state,mutate}\r\n\r\n}"],"names":[],"mappings":";;;AAAA;AACA;AADA;;;;AAMO,MAAM,qBAAmB,CAAM;;IAClC,MAAM,CAAC,OAAM,SAAS,GAAC,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAiB;IAC/C,MAAM,aAAW,CAAA,GAAA,2JAAA,CAAA,cAAW,AAAD,EAAE;IAE7B,MAAM,SAAO,CAAA,GAAA,6JAAA,CAAA,cAAW,AAAD;kDAAE,OAAM;YAC3B,SAAS;YACT,IAAI;gBACD,MAAM,SAAO,MAAM,WAAW;gBAC9B,SAAS;gBACT,OAAO;YACV,EAAE,OAAO,OAAO;gBACZ,SAAS;gBACT,QAAQ,GAAG,CAAC,kBAAiB;gBAC7B,MAAM;YACV,SACO;gBACH,SAAS;YACb;QACJ;iDAAE;QAAC;KAAW;IACd,OAAO;QAAC;QAAM;IAAM;AAExB;GArBa;;QAEQ,2JAAA,CAAA,cAAW"}},
    {"offset": {"line": 408, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 414, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/user/Desktop/Nextgram/next-chat/src/components/ui/switch.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport * as SwitchPrimitives from \"@radix-ui/react-switch\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Switch = React.forwardRef<\n  React.ElementRef<typeof SwitchPrimitives.Root>,\n  React.ComponentPropsWithoutRef<typeof SwitchPrimitives.Root>\n>(({ className, ...props }, ref) => (\n  <SwitchPrimitives.Root\n    className={cn(\n      \"peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input\",\n      className\n    )}\n    {...props}\n    ref={ref}\n  >\n    <SwitchPrimitives.Thumb\n      className={cn(\n        \"pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0\"\n      )}\n    />\n  </SwitchPrimitives.Root>\n))\nSwitch.displayName = SwitchPrimitives.Root.displayName\n\nexport { Switch }\n"],"names":[],"mappings":";;;;AAEA;AAGA;AAFA;AAHA;;;;;AAOA,MAAM,uBAAS,8JAAM,UAAU,MAG7B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC,sKAAiB,IAAI;QACpB,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACV,sXACA;QAED,GAAG,KAAK;QACT,KAAK;kBAEL,cAAA,6LAAC,sKAAiB,KAAK;YACrB,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACV;;;;;;;;;;;;AAKR,OAAO,WAAW,GAAG,sKAAiB,IAAI,CAAC,WAAW"}},
    {"offset": {"line": 451, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 457, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/user/Desktop/Nextgram/next-chat/src/components/friend_request_card.tsx"],"sourcesContent":["import { Id } from '../../convex/_generated/dataModel';\r\nimport { FC } from 'react';\r\nimport { api } from '../../convex/_generated/api';\r\nimport { toast } from 'sonner';\r\nimport { ConvexError } from 'convex/values';\r\nimport { Handshake, X } from 'lucide-react';\r\n\r\nimport { useMutationHandler } from '@/hooks/use-mutation-handler';\r\nimport { Avatar, AvatarImage, AvatarFallback } from '@/components/ui/avatar';\r\nimport { Switch } from '@/components/ui/switch';\r\nimport { Button } from '@/components/ui/button';\r\n\r\ntype FriendRequestCardProps = {\r\n  id: Id<'friend_requests'>;\r\n  imageUrl: string;\r\n  username: string;\r\n  email: string;\r\n};\r\n\r\nexport const FriendRequestCard: FC<FriendRequestCardProps> = ({\r\n  email,\r\n  id,\r\n  imageUrl,\r\n  username,\r\n}) => {\r\n  const { mutate: acceptRequest, state: acceptRequestState } =\r\n    useMutationHandler(api.friend_request.accept);\r\n  const { mutate: declineRequest, state: declineRequestState } =\r\n    useMutationHandler(api.friend_request.decline);\r\n\r\n  const handleDenyRequest = async (id: string) => {\r\n    try {\r\n      await declineRequest({ id });\r\n      toast.success('Friend request declined');\r\n    } catch (error) {\r\n      console.log('Error declining friend request:', error);\r\n      toast.error(\r\n        error instanceof ConvexError ? error.data : 'An error occurred'\r\n      );\r\n    }\r\n  };\r\n\r\n  const handleAcceptRequest = async (id: string) => {\r\n    try {\r\n      await acceptRequest({ id });\r\n      toast.success('Friend request accepted');\r\n    } catch (error) {\r\n      console.log('Error accepting friend request:', error);\r\n      toast.error(\r\n        error instanceof ConvexError ? error.data : 'An error occurred'\r\n      );\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className='flex items-center justify-between space-x-4 rounded-md border p-4'>\r\n      <div className='flex items-center space-x-3'>\r\n        <Handshake />\r\n        <Avatar>\r\n          <AvatarImage src={imageUrl} />\r\n          <AvatarFallback>{username.slice(0, 1)}</AvatarFallback>\r\n        </Avatar>\r\n        <div className='flex justify-between items-center'>\r\n          <div className='flex-1 space-y-1'>\r\n            <p className='text-sm font-medium leading-none'>{username}</p>\r\n            <p className='text-sm text-muted-foreground'>{email}</p>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div className='flex items-center gap-x-5'>\r\n        <Switch\r\n          disabled={\r\n            acceptRequestState === 'loading' ||\r\n            declineRequestState === 'loading'\r\n          }\r\n          // eslint-disable-next-line @typescript-eslint/no-unused-vars\r\n          onCheckedChange={_ => handleAcceptRequest(id)}\r\n        />\r\n        <Button\r\n          size='icon'\r\n          variant='destructive'\r\n          disabled={\r\n            acceptRequestState === 'loading' ||\r\n            declineRequestState === 'loading'\r\n          }\r\n          // eslint-disable-next-line @typescript-eslint/no-unused-vars\r\n          onClick={_ => handleDenyRequest(id)}\r\n        >\r\n          <X />\r\n        </Button>\r\n      </div>\r\n    </div>\r\n  );\r\n};"],"names":[],"mappings":";;;;AAEA;AACA;AACA;AAGA;AACA;AACA;AACA;AANA;AACA;AAAA;;;;;;;;;;;AAcO,MAAM,oBAAgD,CAAC,EAC5D,KAAK,EACL,EAAE,EACF,QAAQ,EACR,QAAQ,EACT;;IACC,MAAM,EAAE,QAAQ,aAAa,EAAE,OAAO,kBAAkB,EAAE,GACxD,CAAA,GAAA,8IAAA,CAAA,qBAAkB,AAAD,EAAE,8HAAA,CAAA,MAAG,CAAC,cAAc,CAAC,MAAM;IAC9C,MAAM,EAAE,QAAQ,cAAc,EAAE,OAAO,mBAAmB,EAAE,GAC1D,CAAA,GAAA,8IAAA,CAAA,qBAAkB,AAAD,EAAE,8HAAA,CAAA,MAAG,CAAC,cAAc,CAAC,OAAO;IAE/C,MAAM,oBAAoB,OAAO;QAC/B,IAAI;YACF,MAAM,eAAe;gBAAE;YAAG;YAC1B,2IAAA,CAAA,QAAK,CAAC,OAAO,CAAC;QAChB,EAAE,OAAO,OAAO;YACd,QAAQ,GAAG,CAAC,mCAAmC;YAC/C,2IAAA,CAAA,QAAK,CAAC,KAAK,CACT,iBAAiB,4JAAA,CAAA,cAAW,GAAG,MAAM,IAAI,GAAG;QAEhD;IACF;IAEA,MAAM,sBAAsB,OAAO;QACjC,IAAI;YACF,MAAM,cAAc;gBAAE;YAAG;YACzB,2IAAA,CAAA,QAAK,CAAC,OAAO,CAAC;QAChB,EAAE,OAAO,OAAO;YACd,QAAQ,GAAG,CAAC,mCAAmC;YAC/C,2IAAA,CAAA,QAAK,CAAC,KAAK,CACT,iBAAiB,4JAAA,CAAA,cAAW,GAAG,MAAM,IAAI,GAAG;QAEhD;IACF;IAEA,qBACE,6LAAC;QAAI,WAAU;;0BACb,6LAAC;gBAAI,WAAU;;kCACb,6LAAC,+MAAA,CAAA,YAAS;;;;;kCACV,6LAAC,qIAAA,CAAA,SAAM;;0CACL,6LAAC,qIAAA,CAAA,cAAW;gCAAC,KAAK;;;;;;0CAClB,6LAAC,qIAAA,CAAA,iBAAc;0CAAE,SAAS,KAAK,CAAC,GAAG;;;;;;;;;;;;kCAErC,6LAAC;wBAAI,WAAU;kCACb,cAAA,6LAAC;4BAAI,WAAU;;8CACb,6LAAC;oCAAE,WAAU;8CAAoC;;;;;;8CACjD,6LAAC;oCAAE,WAAU;8CAAiC;;;;;;;;;;;;;;;;;;;;;;;0BAIpD,6LAAC;gBAAI,WAAU;;kCACb,6LAAC,qIAAA,CAAA,SAAM;wBACL,UACE,uBAAuB,aACvB,wBAAwB;wBAE1B,6DAA6D;wBAC7D,iBAAiB,CAAA,IAAK,oBAAoB;;;;;;kCAE5C,6LAAC,qIAAA,CAAA,SAAM;wBACL,MAAK;wBACL,SAAQ;wBACR,UACE,uBAAuB,aACvB,wBAAwB;wBAE1B,6DAA6D;wBAC7D,SAAS,CAAA,IAAK,kBAAkB;kCAEhC,cAAA,6LAAC,+LAAA,CAAA,IAAC;;;;;;;;;;;;;;;;;;;;;;AAKZ;GA1Ea;;QAOT,8IAAA,CAAA,qBAAkB;QAElB,8IAAA,CAAA,qBAAkB;;;KATT"}},
    {"offset": {"line": 631, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 637, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/user/Desktop/Nextgram/next-chat/src/components/profile-dialog-content.tsx"],"sourcesContent":["import { useTheme } from \"next-themes\"\r\nimport { Card, CardTitle } from \"@/components/ui/card\"\r\nimport { Avatar, AvatarFallback, AvatarImage } from \"@/components/ui/avatar\"\r\nimport {  Handshake, LaptopMinimal, Loader2, Pencil, Sun, SunMoon,  UserRound, UserRoundSearch } from \"lucide-react\"\r\nimport { Input } from \"@/components/ui/input\"\r\nimport { Separator } from \"@/components/ui/separator\"\r\nimport { Dialog } from '@/components/ui/dialog';\r\nimport { DialogTrigger } from '@/components/ui/dialog';\r\nimport { DialogContent } from '@/components/ui/dialog';\r\nimport {z} from \"zod\"\r\nimport { useForm } from \"react-hook-form\"\r\nimport {zodResolver} from \"@hookform/resolvers/zod\"\r\nimport { Form, FormControl, FormDescription, FormField, FormItem, FormLabel, FormMessage } from \"@/components/ui/form\"\r\nimport { DialogTitle } from '@/components/ui/dialog';\r\nimport { Button } from \"@/components/ui/button\"\r\nimport { Textarea } from \"@/components/ui/textarea\"\r\nimport { ToggleGroup, ToggleGroupItem } from \"@/components/ui/toggle-group\"\r\nimport { api } from \"../../convex/_generated/api\"\r\nimport { useQuery } from \"convex/react\"\r\nimport { UserButton, useUser } from \"@clerk/clerk-react\"\r\nimport { useState } from \"react\"\r\nimport { useMutationHandler } from \"@/hooks/user-mutation-handler\"\r\nimport { toast } from \"sonner\"\r\nimport { ConvexError } from \"convex/values\"\r\nimport { Badge } from '@/components/ui/badge';\r\nimport { ScrollArea } from '@/components/ui/scroll-area';\r\nimport { FriendRequestCard } from \"./friend_request_card\"\r\nconst statuses=[\r\n \r\n    'ðŸ‘‹ Speak Freely',\r\n    'ðŸ¤ Encrypted',\r\n    'ðŸ‘ Free to chat',\r\n    'ðŸ‘¨â€ðŸ’» Coding',\r\n    'ðŸ˜ Taking a break',\r\n]\r\n\r\nconst addFriendFormSchema=z.object({\r\n    email:z.string().min(1,{message:'Email is required'}).email()\r\n})\r\n\r\nconst ProfileDialogContent = () => {\r\nconst [updateStatusDialog,setUpdateStatusDialog]=useState(false)\r\nconst [status, setStatus] = useState('');\r\n    const {setTheme}=useTheme()\r\n\r\n    const [friendReqestModal, setFriendRequestModal] = useState(false);\r\n    const { mutate: createFriendRequest, state: createFriendRequestState } =\r\n    useMutationHandler(api.friend_request.create);\r\n  const friendRequests = useQuery(api.friend_requests.get);\r\n\r\n  const {user}=useUser();\r\n// eslint-disable-next-line @typescript-eslint/no-non-null-asserted-optional-chain\r\nconst userDetails=useQuery(api.status.get,{clerkId: user?.id!})\r\n \r\nconst {mutate:updateStatus,state:updateStatusState}=useMutationHandler(api.status.update)\r\n\r\n\r\nconst form=useForm<z.infer<typeof addFriendFormSchema>>({\r\n    resolver:zodResolver(addFriendFormSchema),\r\n    defaultValues:{\r\n        email:''\r\n    }\r\n})\r\nasync function friendRequestHandler({email}:z.infer<typeof addFriendFormSchema>){\r\n    try {\r\n        await createFriendRequest({ email });\r\n        form.reset();\r\n        toast.success('Friend request sent successfully');\r\n        setFriendRequestModal(false);\r\n      } catch (error) {\r\n        toast.error(\r\n          error instanceof ConvexError ? error.data : 'An error occurred'\r\n        );\r\n        console.log('Error sending friend request:', error);\r\n      }\r\n}\r\n\r\nasync function updateStatusHandler(){\r\n    try {\r\n        // eslint-disable-next-line @typescript-eslint/no-non-null-asserted-optional-chain\r\n        await updateStatus({clerkId:user?.id!,status})\r\n        toast.success('Status updated successfully')\r\n        setStatus('')\r\n        setUpdateStatusDialog(false)\r\n    } catch (error) {\r\n        toast.error(\r\n            error instanceof ConvexError ? error.data: 'An error occured'\r\n        )\r\n        console.log('Error updating status',error)\r\n    }\r\n}\r\n  return (\r\n    <div>\r\n    <Card className='border-0 flex flex-col space-y-4'>\r\n    <CardTitle>Profile</CardTitle>\r\n    <div>\r\n    <Avatar className='h-20 w-20 mx-auto'>\r\n        \r\n            <AvatarImage src={userDetails?.imageUrl} />\r\n                            <AvatarFallback>{userDetails?.username[0]}</AvatarFallback>\r\n                         </Avatar>\r\n    </div>\r\n    </Card>\r\n    <div className='flex flex-col gap-y-6 mt-4'>\r\n        <div className='flex items-center space-x-2'>\r\n            <UserRound/>\r\n            <Input \r\n            disabled \r\n            placeholder=\"Name\"\r\n            value={userDetails?.username || ''}\r\n            onChange={()=>{}}\r\n            className='border-none outline-none ring-0'\r\n            />\r\n        </div>\r\n        <Separator/>\r\n        <div className='flex items-center justify-center space-x-5'>\r\n            <p>\r\n                Manage your account\r\n            </p>\r\n            <UserButton\r\n            appearance={\r\n                {\r\n                    elements:{\r\n                        userButtonPopoverCard:{\r\n                        pointerEvents:'initial'\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n            />\r\n        </div>\r\n        <Separator/>\r\n        <Dialog open={friendReqestModal}\r\n        onOpenChange={()=>setFriendRequestModal(!friendReqestModal)}\r\n        >\r\n            <DialogTrigger>\r\n                <div className='flex items-center space-x-2'>\r\n                    <UserRoundSearch/>\r\n                    <p>Send friend request</p>\r\n                </div>\r\n            </DialogTrigger>\r\n            <DialogContent>\r\n                <DialogTitle></DialogTitle>\r\n                <Form {...form}>\r\n                    <form \r\n                    className='space-y-8'\r\n                    onSubmit={form.handleSubmit(friendRequestHandler)}\r\n                    >\r\n                        <FormField \r\n                        control={form.control}\r\n                        name='email'\r\n                        render={({field})=><FormItem>\r\n                            <FormLabel>\r\n                                Email\r\n                            </FormLabel>\r\n                            <FormControl>\r\n                                <Input \r\n                                disabled={createFriendRequestState==='loading'} \r\n                                placeholder='friend@gmail.com'\r\n                                {...field}\r\n                                />\r\n                            </FormControl>\r\n                            <FormDescription>\r\n                                Enter your friend&apos;s email to send a friend request\r\n                            </FormDescription>\r\n                            <FormMessage/>\r\n                        </FormItem>}\r\n                        />\r\n                        <Button\r\n                         disabled={createFriendRequestState==='loading'}\r\n                         type='submit'>Submit</Button>\r\n                    </form>\r\n                </Form>\r\n            </DialogContent>\r\n        </Dialog>\r\n        <Separator/>\r\n        <Dialog>\r\n            <DialogTrigger>\r\n                <div className='flex items-center space-x-2'>\r\n                    <Handshake/>\r\n                    <p>View friend requests</p>\r\n                    {friendRequests && friendRequests.length > 0 && (\r\n                <Badge variant='outline'>{friendRequests.length}</Badge>\r\n              )}\r\n                </div>\r\n            </DialogTrigger>\r\n            <DialogContent>\r\n                <DialogTitle></DialogTitle>\r\n                {friendRequests ? (\r\n              friendRequests.length === 0 ? (\r\n                <p className='text-xl text-center font-bold'>\r\n                  No friend request yet\r\n                </p>\r\n              ) : (\r\n                <ScrollArea className='h-[400px] rounded-md'>\r\n                  {friendRequests.map(request => (\r\n                    <FriendRequestCard\r\n                      key={request.sender._id}\r\n                      email={request.sender.email}\r\n                      id={request._id}\r\n                      imageUrl={request.sender.imageUrl}\r\n                      username={request.sender.username}\r\n                    />\r\n                  ))}\r\n                </ScrollArea>\r\n              )\r\n            ) : (\r\n              <Loader2 />\r\n            )}\r\n            </DialogContent>\r\n        </Dialog>\r\n        <Separator/>\r\n        <Dialog \r\n        open={updateStatusDialog}\r\n        onOpenChange={()=>setUpdateStatusDialog(!updateStatusDialog)}\r\n        >\r\n            <DialogTrigger>\r\n                <div className='flex items-center space-x-2'>\r\n                    <Pencil/>\r\n                    <p>{userDetails?.status}</p>\r\n                </div>\r\n            </DialogTrigger>\r\n            <DialogContent>\r\n                <DialogTitle></DialogTitle>\r\n                <Textarea \r\n                placeholder={userDetails?.status}\r\n                className='resize-none h-48'\r\n                value={status}\r\n                onChange={(e)=>setStatus(e.target.value)}\r\n                disabled={updateStatusState==='loading'}\r\n                />\r\n                <div>\r\n                    {statuses.map(status=>(\r\n                        <p \r\n                        key={status} \r\n                        className='px-2 py-3 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-md cursor-pointer'\r\n                        onClick={()=>setStatus(status)}\r\n                        >\r\n                            {status}\r\n                        </p>\r\n                    ))}\r\n                </div>\r\n                <Button\r\n                onClick={updateStatusHandler}\r\n                className='ml-auto w-fit bg-indigo-900'\r\n                disabled={updateStatusState==='loading'} \r\n                type='button'>\r\n                    Update status\r\n                </Button>\r\n            </DialogContent>\r\n        </Dialog>\r\n        <Separator/>\r\n        <ToggleGroup type='single' variant={'outline'}>\r\n            <ToggleGroupItem\r\n            onClick={()=>setTheme('light')} \r\n            value='light'\r\n            className='flex space-x-3'>\r\n                <Sun/>\r\n                <p>Light</p>\r\n            </ToggleGroupItem>\r\n            <ToggleGroupItem \r\n            onClick={()=>setTheme('dark')}\r\n            value='dark'\r\n            className='flex space-x-3'>\r\n                <SunMoon/>\r\n                <p>Dark</p>\r\n            </ToggleGroupItem>\r\n            <ToggleGroupItem\r\n            onClick={()=>setTheme('sytem')} \r\n            value='system'\r\n            className='flex space-x-3'>\r\n                <LaptopMinimal/>\r\n                <p>System</p>\r\n            </ToggleGroupItem>\r\n        </ToggleGroup>\r\n    </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default ProfileDialogContent"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1301, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 1307, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/user/Desktop/Nextgram/next-chat/src/components/navigation-bar.tsx"],"sourcesContent":["\"use client\"\r\n\r\nimport { MessageCircle, Phone } from \"lucide-react\"\r\nimport { usePathname } from \"next/navigation\"\r\nimport { FC, ReactNode, useMemo } from \"react\"\r\nimport { NavigationMenu, NavigationMenuItem, NavigationMenuList } from \"@/components/ui/navigation-menu\"\r\nimport { cn, isRouteActivePath } from \"@/lib/utils\"\r\nimport { Tooltip, TooltipContent, TooltipTrigger } from \"@/components/ui/tooltip\"\r\nimport Link from \"next/link\"\r\nimport { Dialog, DialogContent, DialogTitle, DialogTrigger } from \"@/components/ui/dialog\"\r\nimport { Avatar, AvatarFallback, AvatarImage } from \"@/components/ui/avatar\"\r\nimport ProfileDialogContent from \"@/components/profile-dialog-content\"\r\ntype NavigationBarProps={\r\n    trigger:ReactNode\r\n}\r\nexport const NavigationBar:FC<NavigationBarProps>=({trigger})=>{\r\nconst pathname=usePathname()\r\nconst menuItems=useMemo(()=>[\r\n{icon:MessageCircle,label:'Chat',path:'/chats'},\r\n{icon:Phone,label:'Call',path:'/calls'},\r\n\r\n],[]);\r\n\r\nreturn(\r\n    <>\r\n    <div className='md:w-24 w-full md:h-screen h-20 bg-white dark:bg-slate-950 border-r md:border-r-gray-400 md:dark:border-r-gray-800 py-5 fixed z-10 flex md:flex-col items-center justify-between bottom-0 md:top-0 left-0'>\r\n   <div className='md:pt-10'>\r\n    <NavigationMenu orientation='vertical'>\r\n        <NavigationMenuList className='!w-svw md:!w-fit px-5 flex items-center justify-between md:flex-col md:space-y-4'>\r\n            {\r\n                menuItems.map(({icon:Icon,label,path})=>{\r\n                    const isActive=isRouteActivePath(pathname,path)\r\n                    return <Tooltip key={path}>\r\n                        <TooltipTrigger>\r\n                            <Link href={path}>\r\n                            <NavigationMenuItem className={cn('px-5 py-2 cursor-pointer rounded-xl',{\r\n                                'dark:bg-gray-700 bg-gray-300':isActive,\r\n                                'hover:dark:bg-gray-600 hover:bg-gray-200':!isActive,\r\n\r\n                            })}>\r\n                                <Icon size={18} fill={isActive?'#000000':'none'} />\r\n                            </NavigationMenuItem>\r\n                            </Link>\r\n                        </TooltipTrigger>\r\n                        <TooltipContent \r\n                        side='right'\r\n                        className='bg-gray-500 dark:bg-gray-700 rounded-xl'>\r\n                            <p>\r\n                                {label}\r\n                            </p>\r\n                        </TooltipContent>\r\n                    </Tooltip>\r\n                })\r\n            }\r\n        </NavigationMenuList>\r\n    </NavigationMenu>\r\n    </div> \r\n    <div className='md:block hidden'>\r\n    <Dialog>\r\n        <NavigationMenu orientation='vertical'>\r\n            <DialogTrigger>\r\n            <Avatar>\r\n                                    <AvatarImage src=\"https://github.com/shadcn.png\" />\r\n                                        <AvatarFallback>User</AvatarFallback>\r\n                                    </Avatar>\r\n            </DialogTrigger>\r\n            <DialogContent>\r\n            <DialogTitle></DialogTitle>\r\n                <ProfileDialogContent  />\r\n            </DialogContent>\r\n        </NavigationMenu>\r\n    </Dialog>\r\n</div>\r\n</div>\r\n\r\n\r\n\r\n<div className='md:hidden fixed items-center flex justify-between w-svw top-0 left-0 h-20 z-10 px-5 bg-white dark:bg-slate-950'>\r\n    <NavigationMenu orientation='horizontal'>\r\n            <NavigationMenuList>\r\n                <NavigationMenuItem>\r\n                    <Dialog>\r\n                       <NavigationMenu orientation='vertical'>\r\n                            <DialogTrigger>\r\n                                <Avatar>\r\n                                    <AvatarImage src=\"https://github.com/shadcn.png\" />\r\n                                        <AvatarFallback>User</AvatarFallback>\r\n                                    </Avatar>\r\n\r\n                            </DialogTrigger>\r\n                            <DialogContent>\r\n                            <DialogTitle></DialogTitle>\r\n                                <ProfileDialogContent/>\r\n                            </DialogContent>\r\n                        </NavigationMenu> \r\n                    </Dialog>\r\n                </NavigationMenuItem>\r\n            </NavigationMenuList>\r\n    </NavigationMenu>\r\n{trigger}\r\n</div>\r\n    </>\r\n)\r\n}"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1613, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 1619, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/user/Desktop/Nextgram/next-chat/src/components/ui/sheet.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport * as SheetPrimitive from \"@radix-ui/react-dialog\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\nimport { X } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Sheet = SheetPrimitive.Root\n\nconst SheetTrigger = SheetPrimitive.Trigger\n\nconst SheetClose = SheetPrimitive.Close\n\nconst SheetPortal = SheetPrimitive.Portal\n\nconst SheetOverlay = React.forwardRef<\n  React.ElementRef<typeof SheetPrimitive.Overlay>,\n  React.ComponentPropsWithoutRef<typeof SheetPrimitive.Overlay>\n>(({ className, ...props }, ref) => (\n  <SheetPrimitive.Overlay\n    className={cn(\n      \"fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0\",\n      className\n    )}\n    {...props}\n    ref={ref}\n  />\n))\nSheetOverlay.displayName = SheetPrimitive.Overlay.displayName\n\nconst sheetVariants = cva(\n  \"fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500\",\n  {\n    variants: {\n      side: {\n        top: \"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top\",\n        bottom:\n          \"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom\",\n        left: \"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm\",\n        right:\n          \"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm\",\n      },\n    },\n    defaultVariants: {\n      side: \"right\",\n    },\n  }\n)\n\ninterface SheetContentProps\n  extends React.ComponentPropsWithoutRef<typeof SheetPrimitive.Content>,\n    VariantProps<typeof sheetVariants> {}\n\nconst SheetContent = React.forwardRef<\n  React.ElementRef<typeof SheetPrimitive.Content>,\n  SheetContentProps\n>(({ side = \"right\", className, children, ...props }, ref) => (\n  <SheetPortal>\n    <SheetOverlay />\n    <SheetPrimitive.Content\n      ref={ref}\n      className={cn(sheetVariants({ side }), className)}\n      {...props}\n    >\n      {children}\n      <SheetPrimitive.Close className=\"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary\">\n        <X className=\"h-4 w-4\" />\n        <span className=\"sr-only\">Close</span>\n      </SheetPrimitive.Close>\n    </SheetPrimitive.Content>\n  </SheetPortal>\n))\nSheetContent.displayName = SheetPrimitive.Content.displayName\n\nconst SheetHeader = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\n      \"flex flex-col space-y-2 text-center sm:text-left\",\n      className\n    )}\n    {...props}\n  />\n)\nSheetHeader.displayName = \"SheetHeader\"\n\nconst SheetFooter = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\n      \"flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2\",\n      className\n    )}\n    {...props}\n  />\n)\nSheetFooter.displayName = \"SheetFooter\"\n\nconst SheetTitle = React.forwardRef<\n  React.ElementRef<typeof SheetPrimitive.Title>,\n  React.ComponentPropsWithoutRef<typeof SheetPrimitive.Title>\n>(({ className, ...props }, ref) => (\n  <SheetPrimitive.Title\n    ref={ref}\n    className={cn(\"text-lg font-semibold text-foreground\", className)}\n    {...props}\n  />\n))\nSheetTitle.displayName = SheetPrimitive.Title.displayName\n\nconst SheetDescription = React.forwardRef<\n  React.ElementRef<typeof SheetPrimitive.Description>,\n  React.ComponentPropsWithoutRef<typeof SheetPrimitive.Description>\n>(({ className, ...props }, ref) => (\n  <SheetPrimitive.Description\n    ref={ref}\n    className={cn(\"text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n))\nSheetDescription.displayName = SheetPrimitive.Description.displayName\n\nexport {\n  Sheet,\n  SheetPortal,\n  SheetOverlay,\n  SheetTrigger,\n  SheetClose,\n  SheetContent,\n  SheetHeader,\n  SheetFooter,\n  SheetTitle,\n  SheetDescription,\n}\n"],"names":[],"mappings":";;;;;;;;;;;;;AAEA;AAEA;AAGA;AAJA;AAEA;AALA;;;;;;;AASA,MAAM,QAAQ,sKAAe,IAAI;AAEjC,MAAM,eAAe,sKAAe,OAAO;AAE3C,MAAM,aAAa,sKAAe,KAAK;AAEvC,MAAM,cAAc,sKAAe,MAAM;AAEzC,MAAM,6BAAe,8JAAM,UAAU,CAGnC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC,sKAAe,OAAO;QACrB,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACV,2JACA;QAED,GAAG,KAAK;QACT,KAAK;;;;;;KAVH;AAaN,aAAa,WAAW,GAAG,sKAAe,OAAO,CAAC,WAAW;AAE7D,MAAM,gBAAgB,CAAA,GAAA,mKAAA,CAAA,MAAG,AAAD,EACtB,oMACA;IACE,UAAU;QACR,MAAM;YACJ,KAAK;YACL,QACE;YACF,MAAM;YACN,OACE;QACJ;IACF;IACA,iBAAiB;QACf,MAAM;IACR;AACF;AAOF,MAAM,6BAAe,8JAAM,UAAU,OAGnC,CAAC,EAAE,OAAO,OAAO,EAAE,SAAS,EAAE,QAAQ,EAAE,GAAG,OAAO,EAAE,oBACpD,6LAAC;;0BACC,6LAAC;;;;;0BACD,6LAAC,sKAAe,OAAO;gBACrB,KAAK;gBACL,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EAAE,cAAc;oBAAE;gBAAK,IAAI;gBACtC,GAAG,KAAK;;oBAER;kCACD,6LAAC,sKAAe,KAAK;wBAAC,WAAU;;0CAC9B,6LAAC,+LAAA,CAAA,IAAC;gCAAC,WAAU;;;;;;0CACb,6LAAC;gCAAK,WAAU;0CAAU;;;;;;;;;;;;;;;;;;;;;;;;;AAKlC,aAAa,WAAW,GAAG,sKAAe,OAAO,CAAC,WAAW;AAE7D,MAAM,cAAc,CAAC,EACnB,SAAS,EACT,GAAG,OACkC,iBACrC,6LAAC;QACC,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACV,oDACA;QAED,GAAG,KAAK;;;;;;MATP;AAYN,YAAY,WAAW,GAAG;AAE1B,MAAM,cAAc,CAAC,EACnB,SAAS,EACT,GAAG,OACkC,iBACrC,6LAAC;QACC,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACV,iEACA;QAED,GAAG,KAAK;;;;;;MATP;AAYN,YAAY,WAAW,GAAG;AAE1B,MAAM,2BAAa,8JAAM,UAAU,OAGjC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC,sKAAe,KAAK;QACnB,KAAK;QACL,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EAAE,yCAAyC;QACtD,GAAG,KAAK;;;;;;;AAGb,WAAW,WAAW,GAAG,sKAAe,KAAK,CAAC,WAAW;AAEzD,MAAM,iCAAmB,8JAAM,UAAU,OAGvC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC,sKAAe,WAAW;QACzB,KAAK;QACL,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EAAE,iCAAiC;QAC9C,GAAG,KAAK;;;;;;;AAGb,iBAAiB,WAAW,GAAG,sKAAe,WAAW,CAAC,WAAW"}},
    {"offset": {"line": 1781, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 1787, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/user/Desktop/Nextgram/next-chat/src/hooks/use-is-desktop.ts"],"sourcesContent":["import { useState, useEffect } from 'react';\r\n\r\nexport const useIsDesktop = () => {\r\n  const [isDesktop, setIsDesktop] = useState(false);\r\n\r\n  useEffect(() => {\r\n    const handleResize = () => {\r\n      setIsDesktop(window.innerWidth > 768);\r\n    };\r\n\r\n    handleResize();\r\n    window.addEventListener('resize', handleResize);\r\n\r\n    return () => window.removeEventListener('resize', handleResize);\r\n  }, []);\r\n\r\n  return isDesktop;\r\n};"],"names":[],"mappings":";;;AAAA;;;AAEO,MAAM,eAAe;;IAC1B,MAAM,CAAC,WAAW,aAAa,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;IAE3C,CAAA,GAAA,6JAAA,CAAA,YAAS,AAAD;kCAAE;YACR,MAAM;uDAAe;oBACnB,aAAa,OAAO,UAAU,GAAG;gBACnC;;YAEA;YACA,OAAO,gBAAgB,CAAC,UAAU;YAElC;0CAAO,IAAM,OAAO,mBAAmB,CAAC,UAAU;;QACpD;iCAAG,EAAE;IAEL,OAAO;AACT;GAfa"}},
    {"offset": {"line": 1816, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 1822, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/user/Desktop/Nextgram/next-chat/src/components/ui/aspect-ratio.tsx"],"sourcesContent":["\"use client\"\n\nimport * as AspectRatioPrimitive from \"@radix-ui/react-aspect-ratio\"\n\nconst AspectRatio = AspectRatioPrimitive.Root\n\nexport { AspectRatio }\n"],"names":[],"mappings":";;;AAEA;AAFA;;AAIA,MAAM,cAAc,+KAAqB,IAAI"}},
    {"offset": {"line": 1833, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 1839, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/user/Desktop/Nextgram/next-chat/src/components/chat-type-content.tsx"],"sourcesContent":["import { FC } from 'react';\r\nimport { AspectRatio } from '@/components/ui/aspect-ratio';\r\nimport Link from 'next/link';\r\nimport Image from 'next/image';\r\n\r\nexport const ChatTypeContent: FC<{\r\n  type: string;\r\n  content: string[];\r\n}> = ({ content, type }) => {\r\n  return (\r\n    <AspectRatio ratio={1 / 1}>\r\n      {type === 'image' && (\r\n        <Image\r\n          src={content[0]}\r\n          alt='file'\r\n          width={450}\r\n          height={235}\r\n          className='rounded-md object-cover'\r\n        />\r\n      )}\r\n\r\n      {type === 'audio' && (\r\n        <audio src={content[0]} controls className='w-full h-full' />\r\n      )}\r\n      {type === 'pdf' && (\r\n        <Link\r\n          href={content[0]}\r\n          target='_blank'\r\n          rel='noopener noreferrer'\r\n          className='bg-purple-500'\r\n        >\r\n          <p className='underline'>PDF Document</p>\r\n        </Link>\r\n      )}\r\n    </AspectRatio>\r\n  );\r\n};"],"names":[],"mappings":";;;;AACA;AACA;AACA;;;;;AAEO,MAAM,kBAGR,CAAC,EAAE,OAAO,EAAE,IAAI,EAAE;IACrB,qBACE,6LAAC,8IAAA,CAAA,cAAW;QAAC,OAAO,IAAI;;YACrB,SAAS,yBACR,6LAAC,gIAAA,CAAA,UAAK;gBACJ,KAAK,OAAO,CAAC,EAAE;gBACf,KAAI;gBACJ,OAAO;gBACP,QAAQ;gBACR,WAAU;;;;;;YAIb,SAAS,yBACR,6LAAC;gBAAM,KAAK,OAAO,CAAC,EAAE;gBAAE,QAAQ;gBAAC,WAAU;;;;;;YAE5C,SAAS,uBACR,6LAAC,+JAAA,CAAA,UAAI;gBACH,MAAM,OAAO,CAAC,EAAE;gBAChB,QAAO;gBACP,KAAI;gBACJ,WAAU;0BAEV,cAAA,6LAAC;oBAAE,WAAU;8BAAY;;;;;;;;;;;;;;;;;AAKnC;KA/Ba"}},
    {"offset": {"line": 1905, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 1911, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/user/Desktop/Nextgram/next-chat/src/components/profile-sheet.tsx"],"sourcesContent":["import { Ban, Phone, Video } from 'lucide-react';\r\nimport Link from 'next/link';\r\nimport { useQuery } from 'convex/react';\r\nimport { FC, useState } from 'react';\r\nimport { api } from '../../convex/_generated/api';\r\nimport { toast } from 'sonner';\r\nimport { ConvexError } from 'convex/values';\r\nimport { Id } from '../../convex/_generated/dataModel';\r\n\r\nimport { SheetTitle } from '@/components/ui/sheet';\r\nimport { Avatar, AvatarFallback, AvatarImage } from '@/components/ui/avatar';\r\nimport { ScrollArea, ScrollBar } from '@/components/ui/scroll-area';\r\nimport { Separator } from '@/components/ui/separator';\r\nimport {\r\n  Dialog,\r\n  DialogContent,\r\n  DialogHeader,\r\n  DialogTrigger,\r\n  DialogTitle,\r\n} from '@/components/ui/dialog';\r\nimport { Button } from '@/components/ui/button';\r\nimport { useMutationHandler } from '@/hooks/use-mutation-handler';\r\nimport { ChatTypeContent } from '@/components/chat-type-content';\r\nimport { pluralize } from '@/lib/utils';\r\n\r\ntype ActionButtonProps = {\r\n  Icon: FC;\r\n  label: string;\r\n};\r\n\r\nconst ActionButton: FC<ActionButtonProps> = ({ Icon, label }) => (\r\n  <div className='flex space-y-2 flex-col items-center w-fit px-4 py-2 rounded-xl bg-gray-100 dark:bg-gray-800'>\r\n    <Icon />\r\n    <p className='text-xs'>{label}</p>\r\n  </div>\r\n);\r\n\r\ntype ProfileSheetProps = {\r\n  chatId: string;\r\n  username: string;\r\n  status: string;\r\n  groupsInCommon:\r\n    | {\r\n        conversation: {\r\n          isGroup: boolean;\r\n          name?: string;\r\n          _creationTime: number;\r\n          _id: string;\r\n        };\r\n        unseenCount: number;\r\n      }[]\r\n    | undefined;\r\n  chatAvatar: string;\r\n};\r\n\r\nexport const ProfileSheet: FC<ProfileSheetProps> = ({\r\n  chatAvatar,\r\n  chatId,\r\n  groupsInCommon,\r\n  status,\r\n  username,\r\n}) => {\r\n  const [blockConfirmationDialog, setBlockConfirmationDialog] = useState(false);\r\n\r\n  const messages = useQuery(api.messages.get, {\r\n    id: chatId as Id<'conversations'>,\r\n  });\r\n\r\n  const { mutate: blockContact, state: blockContactState } = useMutationHandler(\r\n    api.contact.block\r\n  );\r\n\r\n  const blockContactHandler = async () => {\r\n    try {\r\n      await blockContact({ conversationId: chatId });\r\n\r\n      toast.success('Contact blocked');\r\n    } catch (error) {\r\n      console.log(error);\r\n      toast.error(\r\n        error instanceof ConvexError ? error.data : 'An error occurred'\r\n      );\r\n    }\r\n  };\r\n\r\n  const chatFiles = messages?.filter(({ type }) => type !== 'text');\r\n\r\n  return (\r\n    <ScrollArea className='h-full'>\r\n      <Avatar className='mx-auto h-20 w-20 mt-10'>\r\n        <AvatarImage src={chatAvatar} />\r\n        <AvatarFallback>{username[0]}</AvatarFallback>\r\n      </Avatar>\r\n      <SheetTitle className='text-center mt-2 text-2xl'>{username}</SheetTitle>\r\n      <p className='text-center'>{status}</p>\r\n\r\n      <div className='flex justify-center space-x-4 mt-5'>\r\n        <ActionButton Icon={Video} label='Video' />\r\n        <ActionButton Icon={Phone} label='Call' />\r\n      </div>\r\n\r\n      <Separator className='my-5 border border-gray-100 dark:border-gray-800' />\r\n\r\n      <Dialog\r\n        open={blockConfirmationDialog}\r\n        onOpenChange={() =>\r\n          setBlockConfirmationDialog(!blockConfirmationDialog)\r\n        }\r\n      >\r\n        <DialogTrigger\r\n          className='w-full'\r\n          onClick={() => setBlockConfirmationDialog(true)}\r\n        >\r\n          <div className='flex items-center justify-center w-full text-red-600 space-x-3'>\r\n            <Ban />\r\n            <p>Block</p>\r\n          </div>\r\n        </DialogTrigger>\r\n\r\n        <DialogContent>\r\n          <DialogHeader>\r\n            <DialogTitle className='mb-5'>\r\n              Are you absolutely sure you want to block {username}?\r\n            </DialogTitle>\r\n          </DialogHeader>\r\n          <div className='flex items-center space-x-3'>\r\n            <Button\r\n              onClick={() => setBlockConfirmationDialog(false)}\r\n              variant='link'\r\n              disabled={blockContactState === 'loading'}\r\n            >\r\n              Cancel\r\n            </Button>\r\n            <Button\r\n              disabled={blockContactState === 'loading'}\r\n              variant='destructive'\r\n              onClick={blockContactHandler}\r\n            >\r\n              Block\r\n            </Button>\r\n          </div>\r\n        </DialogContent>\r\n      </Dialog>\r\n\r\n      <Separator className='my-5 border border-gray-100 dark:border-gray-800' />\r\n\r\n      <div>\r\n        <p className='font-bold text-lg my-5'>Shared Media</p>\r\n        {chatFiles?.length ? (\r\n          <ScrollArea className='rounded-md border max-w-80'>\r\n            <div className='flex flex-col space-x-1 p-3'>\r\n              {chatFiles.map(({ _id, type, content }) => (\r\n                <div key={_id} className='w-[150px] rounded-xl  overflow-hidden'>\r\n                  <ChatTypeContent type={type} content={content} />\r\n                </div>\r\n              ))}\r\n            </div>\r\n            <ScrollBar orientation='vertical' />\r\n          </ScrollArea>\r\n        ) : (\r\n          <p>No media shared</p>\r\n        )}\r\n      </div>\r\n\r\n      <Separator className='my-5 border border-gray-100 dark:border-gray-800' />\r\n\r\n      <div className='flex flex-col gap-y-2'>\r\n        <p className='font-bold text-lg'>\r\n          {groupsInCommon?.length || 0}{' '}\r\n          {pluralize('group', groupsInCommon?.length || 0)} in common\r\n        </p>\r\n\r\n        <div>\r\n          {groupsInCommon?.length &&\r\n            groupsInCommon.map(({ conversation }) => (\r\n              <Link\r\n                href={`/chats/${conversation._id}`}\r\n                key={conversation._id}\r\n                className='flex items-center space-x-3 hover:bg-gray-400 px-3 py-2 rounded-md'\r\n              >\r\n                <Avatar>\r\n                  <AvatarFallback>\r\n                    {conversation?.name?.slice(0, 2) || 'G'}\r\n                  </AvatarFallback>\r\n                </Avatar>\r\n                <p>{conversation.name}</p>\r\n              </Link>\r\n            ))}\r\n        </div>\r\n      </div>\r\n    </ScrollArea>\r\n  );\r\n};"],"names":[],"mappings":"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"}},
    {"offset": {"line": 2315, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 2321, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/user/Desktop/Nextgram/next-chat/src/components/group-sheet.tsx"],"sourcesContent":["/* eslint-disable @typescript-eslint/no-unused-vars */\r\nimport { Ban, LogOut, Phone, Scroll, Trash2, Video } from 'lucide-react';\r\nimport Link from 'next/link';\r\nimport { useQuery } from 'convex/react';\r\nimport { FC, useState } from 'react';\r\nimport { api } from '../../convex/_generated/api';\r\nimport { toast } from 'sonner';\r\nimport { ConvexError } from 'convex/values';\r\nimport { Id } from '../../convex/_generated/dataModel';\r\n\r\nimport { SheetTitle } from '@/components/ui/sheet';\r\nimport { Avatar, AvatarFallback, AvatarImage } from '@/components/ui/avatar';\r\nimport { ScrollArea, ScrollBar } from '@/components/ui/scroll-area';\r\nimport { Separator } from '@/components/ui/separator';\r\nimport {\r\n  Dialog,\r\n  DialogContent,\r\n  DialogHeader,\r\n  DialogTrigger,\r\n  DialogTitle,\r\n} from '@/components/ui/dialog';\r\nimport { Button } from '@/components/ui/button';\r\nimport { useMutationHandler } from '@/hooks/use-mutation-handler';\r\nimport { ChatTypeContent } from '@/components/chat-type-content';\r\nimport { pluralize } from '@/lib/utils';\r\n\r\ntype ActionButtonProps = {\r\n  Icon: FC;\r\n  label: string;\r\n};\r\n\r\nconst ActionButton: FC<ActionButtonProps> = ({ Icon, label }) => (\r\n  <div className='flex space-y-2 flex-col items-center w-fit px-4 py-2 rounded-xl bg-gray-100 dark:bg-gray-800'>\r\n    <Icon />\r\n    <p className='text-xs'>{label}</p>\r\n  </div>\r\n);\r\n\r\ntype GroupSheetProps = {\r\n  chatId: string;\r\n  groupName: string;\r\n};\r\n\r\nexport const GroupSheet: FC<GroupSheetProps> = ({ groupName, chatId }) => {\r\n  const [deleteConfirmationDialog, setDeleteConfirmationDialog] =\r\n    useState(false);\r\n  const [leaveConfirmationDialog, setLeaveConfirmationDialog] = useState(false);\r\n\r\n  const { mutate: leaveGroup, state: leaveGroupState } = useMutationHandler(\r\n    api.conversation.leaveGroup\r\n  );\r\n  const { mutate: blockGroup, state: blockGroupState } = useMutationHandler(\r\n    api.conversation.deleteGroup\r\n  );\r\n\r\n  const groupMembers = useQuery(api.conversation.getConversationMembers, {\r\n    conversationId: chatId as Id<'conversations'>,\r\n  });\r\n\r\n  const messages = useQuery(api.messages.get, {\r\n    id: chatId as Id<'conversations'>,\r\n  });\r\n\r\n  const chatFiles = messages?.filter(({ type }) => type !== 'text');\r\n\r\n  const deleteGroupHandler = async () => {\r\n    try {\r\n      await blockGroup({ conversationId: chatId });\r\n\r\n      toast.success('Group Deleted');\r\n      setDeleteConfirmationDialog(false);\r\n    } catch (error) {\r\n      console.log(error);\r\n      toast.error(\r\n        error instanceof ConvexError ? error.data : 'An error occurred'\r\n      );\r\n    }\r\n  };\r\n\r\n  const leaveGroupHandler = async () => {\r\n    try {\r\n      await leaveGroup({ conversationId: chatId });\r\n\r\n      toast.success('Left Group');\r\n      setLeaveConfirmationDialog(false);\r\n    } catch (error) {\r\n      console.log(error);\r\n      toast.error(\r\n        error instanceof ConvexError ? error.data : 'An error occurred'\r\n      );\r\n    }\r\n  };\r\n\r\n  return (\r\n    <ScrollArea className='h-full'>\r\n      <Avatar className='mx-auto h-20 w-20 mt-10'>\r\n        <AvatarFallback>{groupName.slice(0, 2)}</AvatarFallback>\r\n      </Avatar>\r\n      <SheetTitle className='text-center mt-2 text-2xl'>{groupName}</SheetTitle>\r\n      <div className='flex justify-center space-x-4 mt-5'>\r\n        <ActionButton Icon={Video} label='Video' />\r\n        <ActionButton Icon={Phone} label='Call' />\r\n      </div>\r\n      <Separator className='my-5 border border-gray-100 dark:border-gray-800' />\r\n      <p className='font-bold text-lg'>\r\n        {groupMembers?.members.length} members\r\n      </p>\r\n\r\n      <div>\r\n        {groupMembers?.members &&\r\n          groupMembers.members.map(member => (\r\n            <div\r\n              className='flex items-center justify-between space-x-3 my-3'\r\n              key={member._id}\r\n            >\r\n              <div className='flex items-center space-x-3'>\r\n                <Avatar>\r\n                  <AvatarImage src={member.imageUrl} />\r\n                  <AvatarFallback>{member.username[0]}</AvatarFallback>\r\n                </Avatar>\r\n                <p>{member.username}</p>\r\n              </div>\r\n            </div>\r\n          ))}\r\n      </div>\r\n\r\n      <Separator className='my-5 border border-gray-100 dark:border-gray-800' />\r\n\r\n      <div className='my-5'>\r\n        <p className='font-bold text-lg my-5'>Shared Media</p>\r\n        {chatFiles?.length ? (\r\n          <ScrollArea className='rounded-md border max-w-80'>\r\n            <div className='flex space-x-4 p-4'>\r\n              {chatFiles.map(({ _id, type, content }) => (\r\n                <div key={_id} className='w-[200px] rounded-xl overflow-hidden'>\r\n                  <ChatTypeContent type={type} content={content} />\r\n                </div>\r\n              ))}\r\n            </div>\r\n            <ScrollBar orientation='vertical' />\r\n          </ScrollArea>\r\n        ) : (\r\n          <p>No media shared</p>\r\n        )}\r\n      </div>\r\n\r\n      <Separator className='my-5 border border-gray-100 dark:border-gray-800' />\r\n\r\n      <Dialog\r\n        open={deleteConfirmationDialog}\r\n        onOpenChange={() =>\r\n          setDeleteConfirmationDialog(!deleteConfirmationDialog)\r\n        }\r\n      >\r\n        <DialogTrigger\r\n          onClick={() => setDeleteConfirmationDialog(true)}\r\n          className='w-full'\r\n        >\r\n          <div className='flex items-center justify-center w-full text-red-600 space-x-3'>\r\n            <Trash2 />\r\n            <p>Delete Group</p>\r\n          </div>\r\n        </DialogTrigger>\r\n        <DialogContent>\r\n          <DialogHeader>\r\n            <DialogTitle className='mb-5'>\r\n              Are you absolutely sure you want to delete {groupName} group?\r\n            </DialogTitle>\r\n          </DialogHeader>\r\n\r\n          <div className='flex items-center space-x-3'>\r\n            <Button\r\n              variant='link'\r\n              disabled={blockGroupState === 'loading'}\r\n              onClick={() => setDeleteConfirmationDialog(false)}\r\n            >\r\n              Cancel\r\n            </Button>\r\n            <Button\r\n              variant='destructive'\r\n              disabled={blockGroupState === 'loading'}\r\n              onClick={deleteGroupHandler}\r\n            >\r\n              Delete\r\n            </Button>\r\n          </div>\r\n        </DialogContent>\r\n      </Dialog>\r\n\r\n      <Separator className='my-5 border border-gray-100 dark:border-gray-800' />\r\n\r\n      <Dialog\r\n        open={leaveConfirmationDialog}\r\n        onOpenChange={() =>\r\n          setLeaveConfirmationDialog(!leaveConfirmationDialog)\r\n        }\r\n      >\r\n        <DialogTrigger\r\n          onClick={() => setLeaveConfirmationDialog(true)}\r\n          className='w-full'\r\n        >\r\n          <div className='flex items-center justify-center w-full text-red-600 space-x-3'>\r\n            <LogOut />\r\n            <p>Leave Group</p>\r\n          </div>\r\n        </DialogTrigger>\r\n        <DialogContent>\r\n          <DialogHeader>\r\n            <DialogTitle className='mb-5'>\r\n              Are you absolutely sure you want to leave {groupName} group?\r\n            </DialogTitle>\r\n          </DialogHeader>\r\n\r\n          <div className='flex items-center space-x-3'>\r\n            <Button\r\n              variant='link'\r\n              disabled={leaveGroupState === 'loading'}\r\n              onClick={() => setLeaveConfirmationDialog(false)}\r\n            >\r\n              Cancel\r\n            </Button>\r\n            <Button\r\n              variant='destructive'\r\n              disabled={leaveGroupState === 'loading'}\r\n              onClick={leaveGroupHandler}\r\n            >\r\n              Leave\r\n            </Button>\r\n          </div>\r\n        </DialogContent>\r\n      </Dialog>\r\n\r\n      <Separator className='my-5 border border-gray-100 dark:border-gray-800' />\r\n    </ScrollArea>\r\n  );\r\n};"],"names":[],"mappings":"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"}},
    {"offset": {"line": 2838, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 2844, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/user/Desktop/Nextgram/next-chat/src/components/chat-header.tsx"],"sourcesContent":["\"use client\";\r\nimport { useSidebarWidth } from \"@/hooks/use-sidebar-width\";\r\nimport { cn } from \"@/lib/utils\";\r\nimport { ChevronLeft,Phone,Video } from \"lucide-react\";\r\nimport {FC} from 'react';\r\nimport { Avatar, AvatarFallback,AvatarImage } from \"@/components/ui/avatar\";\r\nimport { Sheet, SheetContent, SheetTrigger } from '@/components/ui/sheet';\r\nimport { Button } from \"@/components/ui/button\";\r\nimport { useIsDesktop } from '@/hooks/use-is-desktop';\r\nimport { useRouter } from \"next/navigation\";\r\nimport { useQuery } from \"convex/react\";\r\nimport { api } from \"../../convex/_generated/api\";\r\nimport Link from \"next/link\";\r\nimport { ProfileSheet } from \"./profile-sheet\";\r\nimport { GroupSheet } from \"./group-sheet\";\r\n\r\ntype ChatHeaderProps = {\r\n    chatAvatar: string;\r\n    username: string;\r\n    isGroup: boolean;\r\n    chatId: string;\r\n    status: string;\r\n  };\r\n\r\nexport const ChatHeader:FC<ChatHeaderProps>=({\r\n    chatAvatar,\r\n    chatId,\r\n    isGroup,\r\n    status,\r\n    username\r\n})=>{\r\n    const {sidebarWidth}=useSidebarWidth();\r\n    const isDesktop=useIsDesktop();\r\n    const router = useRouter();\r\n    const conversations = useQuery(api.conversations.get);\r\n    const groupsInCommon = conversations?.filter(\r\n        ({ conversation }) => conversation.isGroup\r\n      );\r\n\r\n      const videoCall = () => router.push(`/calls/${chatId}`);\r\n      return (\r\n        <div\r\n        className={cn(\r\n          'fixed bg-white dark:bg-gray-800 px-3 md:pr-10 flex items-center justify-between space-x-3 z-30 top-0 w-full h-20'\r\n        )}\r\n        style={isDesktop ? { width: `calc(100% - ${sidebarWidth + 3}%)` } : {}}\r\n      >\r\n        <div className='flex space-x-3'>\r\n          <div className='md:hidden'>\r\n            <Button asChild variant='outline' size='icon'>\r\n              <Link href='/chats'>\r\n                <ChevronLeft />\r\n              </Link>\r\n            </Button>\r\n          </div>\r\n          <Sheet>\r\n            <SheetTrigger className='flex items-center cursor-pointer space-x-4'>\r\n              <Avatar>\r\n                <AvatarImage src={chatAvatar} />\r\n                <AvatarFallback>{username[0]}</AvatarFallback>\r\n              </Avatar>\r\n              <h2 className='font-bold text-lg'>{username}</h2>\r\n            </SheetTrigger>\r\n            <SheetContent className='bg-white dark:bg-black dark:text-white w-80 md:w-96'>\r\n              {isGroup ? (\r\n                <GroupSheet chatId={chatId} groupName={username}/>\r\n              ) : (\r\n                <ProfileSheet\r\n                username={username}\r\n                status={status}\r\n                chatId={chatId}\r\n                groupsInCommon={groupsInCommon}\r\n                chatAvatar={chatAvatar}\r\n              />\r\n              )}\r\n            </SheetContent>\r\n          </Sheet>\r\n        </div>\r\n  \r\n        <div className='flex items-center space-x-4'>\r\n          <Video className='cursor-pointer' onClick={videoCall} />\r\n          <Phone className='cursor-pointer' onClick={videoCall} />\r\n        </div>\r\n      </div>\r\n      );\r\n\r\n\r\n}"],"names":[],"mappings":";;;;AACA;AACA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAJA;AAPA;AAAA;AAAA;;;AAHA;;;;;;;;;;;;;;AAwBO,MAAM,aAA+B,CAAC,EACzC,UAAU,EACV,MAAM,EACN,OAAO,EACP,MAAM,EACN,QAAQ,EACX;;IACG,MAAM,EAAC,YAAY,EAAC,GAAC,CAAA,GAAA,0IAAA,CAAA,kBAAe,AAAD;IACnC,MAAM,YAAU,CAAA,GAAA,uIAAA,CAAA,eAAY,AAAD;IAC3B,MAAM,SAAS,CAAA,GAAA,qIAAA,CAAA,YAAS,AAAD;IACvB,MAAM,gBAAgB,CAAA,GAAA,2JAAA,CAAA,WAAQ,AAAD,EAAE,8HAAA,CAAA,MAAG,CAAC,aAAa,CAAC,GAAG;IACpD,MAAM,iBAAiB,eAAe,OAClC,CAAC,EAAE,YAAY,EAAE,GAAK,aAAa,OAAO;IAG5C,MAAM,YAAY,IAAM,OAAO,IAAI,CAAC,CAAC,OAAO,EAAE,QAAQ;IACtD,qBACE,6LAAC;QACD,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACV;QAEF,OAAO,YAAY;YAAE,OAAO,CAAC,YAAY,EAAE,eAAe,EAAE,EAAE,CAAC;QAAC,IAAI,CAAC;;0BAErE,6LAAC;gBAAI,WAAU;;kCACb,6LAAC;wBAAI,WAAU;kCACb,cAAA,6LAAC,qIAAA,CAAA,SAAM;4BAAC,OAAO;4BAAC,SAAQ;4BAAU,MAAK;sCACrC,cAAA,6LAAC,+JAAA,CAAA,UAAI;gCAAC,MAAK;0CACT,cAAA,6LAAC,uNAAA,CAAA,cAAW;;;;;;;;;;;;;;;;;;;;kCAIlB,6LAAC,oIAAA,CAAA,QAAK;;0CACJ,6LAAC,oIAAA,CAAA,eAAY;gCAAC,WAAU;;kDACtB,6LAAC,qIAAA,CAAA,SAAM;;0DACL,6LAAC,qIAAA,CAAA,cAAW;gDAAC,KAAK;;;;;;0DAClB,6LAAC,qIAAA,CAAA,iBAAc;0DAAE,QAAQ,CAAC,EAAE;;;;;;;;;;;;kDAE9B,6LAAC;wCAAG,WAAU;kDAAqB;;;;;;;;;;;;0CAErC,6LAAC,oIAAA,CAAA,eAAY;gCAAC,WAAU;0CACrB,wBACC,6LAAC,uIAAA,CAAA,aAAU;oCAAC,QAAQ;oCAAQ,WAAW;;;;;yDAEvC,6LAAC,yIAAA,CAAA,eAAY;oCACb,UAAU;oCACV,QAAQ;oCACR,QAAQ;oCACR,gBAAgB;oCAChB,YAAY;;;;;;;;;;;;;;;;;;;;;;;0BAOpB,6LAAC;gBAAI,WAAU;;kCACb,6LAAC,uMAAA,CAAA,QAAK;wBAAC,WAAU;wBAAiB,SAAS;;;;;;kCAC3C,6LAAC,uMAAA,CAAA,QAAK;wBAAC,WAAU;wBAAiB,SAAS;;;;;;;;;;;;;;;;;;AAMrD;GA/Da;;QAOY,0IAAA,CAAA,kBAAe;QACpB,uIAAA,CAAA,eAAY;QACb,qIAAA,CAAA,YAAS;QACF,2JAAA,CAAA,WAAQ;;;KAVrB"}},
    {"offset": {"line": 3049, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 3055, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/user/Desktop/Nextgram/next-chat/src/components/message-item.tsx"],"sourcesContent":["import { FC, ReactNode } from 'react';\r\nimport { format } from 'date-fns';\r\nimport Image from 'next/image';\r\nimport Link from 'next/link';\r\n\r\nimport { cn } from '@/lib/utils';\r\nimport { Avatar, AvatarImage, AvatarFallback } from '@/components/ui/avatar';\r\n\r\ntype MessageItemProps = {\r\n  fromCurrentUser: boolean;\r\n  senderImage: string;\r\n  senderName: string;\r\n  lastByUser: boolean;\r\n  content: string[];\r\n  createdAt: number;\r\n  type: string;\r\n  seen?: ReactNode;\r\n};\r\n\r\nexport const MessageItem: FC<MessageItemProps> = ({\r\n  content,\r\n  createdAt,\r\n  fromCurrentUser,\r\n  lastByUser,\r\n  senderImage,\r\n  senderName,\r\n  type,\r\n  seen,\r\n}) => {\r\n  const formatTime = (timestamp: number) => format(timestamp, 'HH:mm');\r\n\r\n  return (\r\n    <div\r\n      className={cn('flex items-end', {\r\n        'justify-end': fromCurrentUser,\r\n      })}\r\n    >\r\n      <div\r\n        className={cn('flex flex-col w-full mx-2', {\r\n          'order-1 items-end': fromCurrentUser,\r\n          'order-2 items-start': !fromCurrentUser,\r\n        })}\r\n      >\r\n        <div\r\n          className={cn(\r\n            'px-3 py-1 flex flex-col space-x-2 items-center justify-between rounded-lg max-w-[80%]',\r\n            {\r\n              'bg-blue-700 text-primary-foreground':\r\n                fromCurrentUser && type === 'text',\r\n              'bg-secondary text-secondary-foreground':\r\n                !fromCurrentUser && type === 'text',\r\n              'rounded-br-none': !lastByUser && fromCurrentUser,\r\n              'rounded-bl-none': !lastByUser && !fromCurrentUser,\r\n            }\r\n          )}\r\n        >\r\n          {type == 'text' && (\r\n            <p className='text-wrap break-words whitespace-pre-wrap break-all'>\r\n              {content}\r\n            </p>\r\n          )}\r\n\r\n          {type === 'audio' && (\r\n            <audio className='max-w-44 md:max-w-full' controls>\r\n              <source src={content[0]} type='audio/mpeg' />\r\n              Your browser does not support the audio element.\r\n            </audio>\r\n          )}\r\n\r\n          {type === 'image' && (\r\n            <Link\r\n              href={content[0]}\r\n              passHref\r\n              target='_blank'\r\n              rel='noopener noreferrer'\r\n            >\r\n              <Image\r\n                src={content[0]}\r\n                alt='image'\r\n                width={240}\r\n                height={112}\r\n                className='rounded-xl w-60 object-cover h-28'\r\n              />\r\n            </Link>\r\n          )}\r\n\r\n          {type === 'pdf' && (\r\n            <Link href={content[0]} target='_blank' rel='noopener noreferrer'>\r\n              <p className='underline'>ðŸ“„ Document</p>\r\n            </Link>\r\n          )}\r\n         \r\n          \r\n\r\n          <p\r\n            className={cn('text-xs flex w-full my-1', {\r\n              'text-primary-foreground justify-end': fromCurrentUser,\r\n              'text-secondary-foreground justify-start': !fromCurrentUser,\r\n              'dark:text-white text-black':\r\n                type === 'audio' || type === 'image' || type === 'pdf'\r\n            })}\r\n          >\r\n            {formatTime(createdAt)}\r\n          </p>\r\n        </div>\r\n        <span className='text-sm italic'>{seen}</span>\r\n      </div>\r\n\r\n      <Avatar\r\n        className={cn('w-8 h-8 relative', {\r\n          'order-2': fromCurrentUser,\r\n          'order-1': !fromCurrentUser,\r\n          invisible: lastByUser,\r\n        })}\r\n      >\r\n        <AvatarImage src={senderImage} alt={senderName} />\r\n        <AvatarFallback>{senderName.slice(0, 2)}</AvatarFallback>\r\n      </Avatar>\r\n    </div>\r\n  );\r\n};"],"names":[],"mappings":";;;;AAEA;AACA;AAEA;AACA;AALA;;;;;;;AAkBO,MAAM,cAAoC,CAAC,EAChD,OAAO,EACP,SAAS,EACT,eAAe,EACf,UAAU,EACV,WAAW,EACX,UAAU,EACV,IAAI,EACJ,IAAI,EACL;IACC,MAAM,aAAa,CAAC,YAAsB,CAAA,GAAA,wJAAA,CAAA,SAAM,AAAD,EAAE,WAAW;IAE5D,qBACE,6LAAC;QACC,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EAAE,kBAAkB;YAC9B,eAAe;QACjB;;0BAEA,6LAAC;gBACC,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EAAE,6BAA6B;oBACzC,qBAAqB;oBACrB,uBAAuB,CAAC;gBAC1B;;kCAEA,6LAAC;wBACC,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACV,yFACA;4BACE,uCACE,mBAAmB,SAAS;4BAC9B,0CACE,CAAC,mBAAmB,SAAS;4BAC/B,mBAAmB,CAAC,cAAc;4BAClC,mBAAmB,CAAC,cAAc,CAAC;wBACrC;;4BAGD,QAAQ,wBACP,6LAAC;gCAAE,WAAU;0CACV;;;;;;4BAIJ,SAAS,yBACR,6LAAC;gCAAM,WAAU;gCAAyB,QAAQ;;kDAChD,6LAAC;wCAAO,KAAK,OAAO,CAAC,EAAE;wCAAE,MAAK;;;;;;oCAAe;;;;;;;4BAKhD,SAAS,yBACR,6LAAC,+JAAA,CAAA,UAAI;gCACH,MAAM,OAAO,CAAC,EAAE;gCAChB,QAAQ;gCACR,QAAO;gCACP,KAAI;0CAEJ,cAAA,6LAAC,gIAAA,CAAA,UAAK;oCACJ,KAAK,OAAO,CAAC,EAAE;oCACf,KAAI;oCACJ,OAAO;oCACP,QAAQ;oCACR,WAAU;;;;;;;;;;;4BAKf,SAAS,uBACR,6LAAC,+JAAA,CAAA,UAAI;gCAAC,MAAM,OAAO,CAAC,EAAE;gCAAE,QAAO;gCAAS,KAAI;0CAC1C,cAAA,6LAAC;oCAAE,WAAU;8CAAY;;;;;;;;;;;0CAM7B,6LAAC;gCACC,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EAAE,4BAA4B;oCACxC,uCAAuC;oCACvC,2CAA2C,CAAC;oCAC5C,8BACE,SAAS,WAAW,SAAS,WAAW,SAAS;gCACrD;0CAEC,WAAW;;;;;;;;;;;;kCAGhB,6LAAC;wBAAK,WAAU;kCAAkB;;;;;;;;;;;;0BAGpC,6LAAC,qIAAA,CAAA,SAAM;gBACL,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EAAE,oBAAoB;oBAChC,WAAW;oBACX,WAAW,CAAC;oBACZ,WAAW;gBACb;;kCAEA,6LAAC,qIAAA,CAAA,cAAW;wBAAC,KAAK;wBAAa,KAAK;;;;;;kCACpC,6LAAC,qIAAA,CAAA,iBAAc;kCAAE,WAAW,KAAK,CAAC,GAAG;;;;;;;;;;;;;;;;;;AAI7C;KArGa"}},
    {"offset": {"line": 3229, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 3235, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/user/Desktop/Nextgram/next-chat/src/components/ui/popover.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport * as PopoverPrimitive from \"@radix-ui/react-popover\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Popover = PopoverPrimitive.Root\n\nconst PopoverTrigger = PopoverPrimitive.Trigger\n\nconst PopoverContent = React.forwardRef<\n  React.ElementRef<typeof PopoverPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof PopoverPrimitive.Content>\n>(({ className, align = \"center\", sideOffset = 4, ...props }, ref) => (\n  <PopoverPrimitive.Portal>\n    <PopoverPrimitive.Content\n      ref={ref}\n      align={align}\n      sideOffset={sideOffset}\n      className={cn(\n        \"z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2\",\n        className\n      )}\n      {...props}\n    />\n  </PopoverPrimitive.Portal>\n))\nPopoverContent.displayName = PopoverPrimitive.Content.displayName\n\nexport { Popover, PopoverTrigger, PopoverContent }\n"],"names":[],"mappings":";;;;;;AAEA;AAGA;AAFA;AAHA;;;;;AAOA,MAAM,UAAU,uKAAiB,IAAI;AAErC,MAAM,iBAAiB,uKAAiB,OAAO;AAE/C,MAAM,+BAAiB,8JAAM,UAAU,MAGrC,CAAC,EAAE,SAAS,EAAE,QAAQ,QAAQ,EAAE,aAAa,CAAC,EAAE,GAAG,OAAO,EAAE,oBAC5D,6LAAC,uKAAiB,MAAM;kBACtB,cAAA,6LAAC,uKAAiB,OAAO;YACvB,KAAK;YACL,OAAO;YACP,YAAY;YACZ,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACV,8aACA;YAED,GAAG,KAAK;;;;;;;;;;;;AAIf,eAAe,WAAW,GAAG,uKAAiB,OAAO,CAAC,WAAW"}},
    {"offset": {"line": 3277, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 3283, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/user/Desktop/Nextgram/next-chat/src/supabase/supabaseClient.ts"],"sourcesContent":["import { createBrowserClient } from '@supabase/ssr';\r\n\r\nexport const supabaseBrowserClient = createBrowserClient(\r\n  process.env.NEXT_PUBLIC_SUPABASE_URL!,\r\n  process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY!\r\n);"],"names":[],"mappings":";;;AAAA;AAAA;AAGE;;AADK,MAAM,wBAAwB,CAAA,GAAA,6KAAA,CAAA,sBAAmB,AAAD"}},
    {"offset": {"line": 3294, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 3300, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/user/Desktop/Nextgram/next-chat/src/components/chat-footer.tsx"],"sourcesContent":["import { useMutationHandler } from \"@/hooks/use-mutation-handler\";\r\nimport { zodResolver } from \"@hookform/resolvers/zod\";\r\nimport { ConvexError } from \"convex/values\";\r\nimport { ChangeEvent, FC, useEffect, useState } from \"react\";\r\nimport { useForm } from \"react-hook-form\";\r\nimport { toast } from \"sonner\";\r\nimport { z } from \"zod\";\r\nimport { api } from \"../../convex/_generated/api\";\r\nimport { Form, FormControl, FormField } from \"./ui/form\";\r\nimport { useIsDesktop } from \"@/hooks/use-is-desktop\";\r\nimport { useSidebarWidth } from \"@/hooks/use-sidebar-width\";\r\nimport { Popover, PopoverContent, PopoverTrigger } from \"./ui/popover\";\r\nimport { Paperclip, Send, Smile } from \"lucide-react\";\r\nimport Picker from '@emoji-mart/react';\r\nimport data from '@emoji-mart/data';\r\nimport TextareaAutoSize from 'react-textarea-autosize';\r\nimport { useTheme } from \"next-themes\";\r\nimport axios from 'axios';\r\nimport { Dialog, DialogContent, DialogDescription, DialogFooter, DialogHeader, DialogTitle, DialogTrigger } from \"./ui/dialog\";\r\nimport { Button } from \"./ui/button\";\r\nimport { FilePond, registerPlugin } from 'react-filepond';\r\nimport 'filepond/dist/filepond.min.css';\r\nimport FilePondPluginImagePreview from 'filepond-plugin-image-preview';\r\nimport FilePondPluginFileValidateType from 'filepond-plugin-file-validate-type';\r\nimport 'filepond-plugin-image-preview/dist/filepond-plugin-image-preview.css';\r\nimport { v4 as uuid } from 'uuid';\r\nimport Pusher from 'pusher-js';\r\nimport { supabaseBrowserClient as supabase } from '@/supabase/supabaseClient';\r\ntype ChatFooterProps = {\r\n    chatId: string;\r\n    currentUserId: string;\r\n  };\r\n\r\n  const ChatMessageSchema = z.object({\r\n    content: z.string().min(1, {\r\n      message: 'Message must not be empty',\r\n    }),\r\n  });\r\nexport const ChatFooter:FC<ChatFooterProps>=({ chatId, currentUserId })=>{\r\n    const { mutate: createMessage, state: createMessageState } =\r\n    useMutationHandler(api.message.create);\r\n    const isDesktop = useIsDesktop();\r\n    const { resolvedTheme } = useTheme();\r\n    const [typing, setTyping] = useState(false);\r\n  const [isTyping, setIsTyping] = useState(false);\r\n  const [imageOrPdf, setImageOrPdf] = useState<Blob | null>(null);\r\n  const [imageOrPdfModalOpen, setImageOrPdfModalOpen] = useState(false);\r\n  const [sendingFile, setSendingFile] = useState(false);\r\n\r\n  registerPlugin(FilePondPluginImagePreview, FilePondPluginFileValidateType);\r\n  const { sidebarWidth } = useSidebarWidth();\r\n    const form = useForm<z.infer<typeof ChatMessageSchema>>({\r\n        resolver: zodResolver(ChatMessageSchema),\r\n        defaultValues: { content: '' },\r\n      });\r\n      \r\n      useEffect(() => {\r\n        const pusher = new Pusher(process.env.NEXT_PUBLIC_PUSHER_KEY!, {\r\n          cluster: process.env.NEXT_PUBLIC_PUSHER_CLUSTER!,\r\n        });\r\n    \r\n        const channel = pusher.subscribe(chatId);\r\n    \r\n        channel.bind('typing', (data: { isTyping: boolean; userId: string }) => {\r\n          if (data.userId !== currentUserId) {\r\n            setIsTyping(data.isTyping);\r\n          }\r\n        });\r\n    \r\n        return () => {\r\n          pusher.unsubscribe(chatId);\r\n        };\r\n      }, [chatId, currentUserId]);\r\n    \r\n        \r\n\r\n      const createMessagehandler = async ({\r\n        content,\r\n      }: z.infer<typeof ChatMessageSchema>) => {\r\n        if (!content || content.length < 1) return;\r\n        try {\r\n          await createMessage({\r\n            conversationId: chatId,\r\n            type: 'text',\r\n            content: [content],\r\n          });\r\n          form.reset();\r\n        } catch (error) {\r\n          console.log(error);\r\n          toast.error(\r\n            error instanceof ConvexError ? error.data : 'An error occurred'\r\n          );\r\n        }\r\n      };\r\n\r\n      const handleInputChange = async (e: ChangeEvent<HTMLTextAreaElement>) => {\r\n        const { value, selectionStart } = e.target;\r\n    \r\n        if (selectionStart !== null) form.setValue('content', value);\r\n    \r\n        if (!typing) {\r\n          setTyping(true);\r\n          await axios.post('/api/type-indicator', {\r\n            channel: chatId,\r\n            event: 'typing',\r\n            data: { isTyping: true, userId: currentUserId },\r\n          });\r\n    \r\n          setTimeout(() => {\r\n            setTyping(false);\r\n            axios.post('/api/type-indicator', {\r\n              channel: chatId,\r\n              event: 'typing',\r\n              data: { isTyping: false, userId: currentUserId },\r\n            });\r\n          }, 2000);\r\n        }\r\n      };\r\n    \r\n      const handleImageUpload = async () => {\r\n        const uniqueId = uuid();\r\n        if (!imageOrPdf) return;\r\n        setSendingFile(true);\r\n    \r\n        try {\r\n          let fileName;\r\n          if (imageOrPdf.type.startsWith('image/')) {\r\n            fileName = `chat/image-${uniqueId}.jpg`;\r\n          }\r\n          else if (imageOrPdf.type.startsWith('image/')) {\r\n            fileName = `chat/image-${uniqueId}.png`;\r\n          }\r\n          \r\n          else if (imageOrPdf.type.startsWith('application/pdf')) {\r\n            fileName = `chat/pdf-${uniqueId}.pdf`;\r\n          }\r\n          else if (imageOrPdf.type.startsWith('application/vnd.openxmlformats-officedocument.wordprocessingml.document')) {\r\n            fileName = `chat/docx-${uniqueId}.docx`;\r\n          }\r\n          else {\r\n            console.error('Invalid file type');\r\n            setSendingFile(false);\r\n            return;\r\n          }\r\n    \r\n          const file = new File([imageOrPdf], fileName, { type: imageOrPdf.type });\r\n    \r\n          const { data, error } = await supabase.storage\r\n            .from('chat-files')\r\n            .upload(fileName, file, {\r\n              cacheControl: '3600',\r\n              upsert: false,\r\n            });\r\n    \r\n          if (error) {\r\n            console.log('Error uploading file: ', error);\r\n            setSendingFile(false);\r\n            return;\r\n          }\r\n    \r\n          const {\r\n            data: { publicUrl },\r\n          } = await supabase.storage.from('chat-files').getPublicUrl(data.path);\r\n    \r\n          await createMessage({\r\n            conversationId: chatId,\r\n            type: imageOrPdf.type.startsWith('image/') ? 'image' : 'pdf',\r\n            content: [publicUrl],\r\n          });\r\n    \r\n          setSendingFile(false);\r\n          setImageOrPdfModalOpen(false);\r\n        } catch (error) {\r\n          setSendingFile(false);\r\n          setImageOrPdfModalOpen(false);\r\n          console.log(error);\r\n          toast.error('Failed to send file, please try again');\r\n        }\r\n      };\r\n\r\n     \r\n    return(\r\n        <Form {...form}>\r\n      <form \r\n      style={isDesktop ? { width: `calc(100% - ${sidebarWidth + 3}%)` } : {}}\r\n      className='fixed px-3 md:pr-10 flex items-center justify-between space-x-3 z-30 bottom-0 w-full bg-white dark:bg-gray-800 h-20'\r\n      onSubmit={form.handleSubmit(createMessagehandler)}\r\n      >\r\n        <Popover>\r\n          <PopoverTrigger>\r\n            <button type='button'>\r\n              <Smile size={20} />\r\n            </button>\r\n          </PopoverTrigger>\r\n          <PopoverContent className='w-fit p-0'>\r\n            <Picker\r\n              theme={resolvedTheme}\r\n              data={data}\r\n              // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n              onEmojiSelect={(emoji: any) =>\r\n                form.setValue(\r\n                  'content',\r\n                  `${form.getValues('content')}${emoji.native}`\r\n                )\r\n              }\r\n            />\r\n          </PopoverContent>\r\n        </Popover>\r\n\r\n        <FormField\r\n          control={form.control}\r\n          name='content'\r\n          render={({ field }) => (\r\n            <FormControl>\r\n              <>\r\n                <TextareaAutoSize\r\n                  onKeyDown={async e => {\r\n                    if (e.key === 'Enter' && !e.shiftKey) {\r\n                      e.preventDefault();\r\n                      await form.handleSubmit(createMessagehandler)();\r\n                    }\r\n                  }}\r\n                  rows={1}\r\n                  maxRows={2}\r\n                  {...field}\r\n                  disabled={createMessageState === 'loading'}\r\n                  placeholder='Type a message'\r\n                  onChange={handleInputChange}\r\n                  className='flex-grow bg-gray-200 dark:bg-gray-600 rounded-2xl resize-none px-4 p-2 ring-0 focus:ring-0 focus:outline-none outline-none'\r\n                />\r\n                {isTyping && <p className='text-xs ml-1'>typing...</p>}\r\n              </>\r\n            </FormControl>\r\n          )}\r\n        />\r\n         <Send\r\n          className='cursor-pointer'\r\n          onClick={async () => form.handleSubmit(createMessagehandler)()}\r\n        />\r\n        <Dialog\r\n          open={imageOrPdfModalOpen}\r\n          onOpenChange={() => setImageOrPdfModalOpen(!imageOrPdfModalOpen)}\r\n        >\r\n          <DialogTrigger>\r\n            <Paperclip className='cursor-pointer' />\r\n          </DialogTrigger>\r\n\r\n          <DialogContent className='min-w-80'>\r\n            <DialogHeader>\r\n              <DialogTitle>Upload PDF / IMG</DialogTitle>\r\n              <DialogDescription>ðŸ“ Upload</DialogDescription>\r\n            </DialogHeader>\r\n\r\n            <FilePond\r\n              className='cursor-pointer'\r\n              files={imageOrPdf ? [imageOrPdf] : []}\r\n              allowMultiple={false}\r\n              acceptedFileTypes={['image/*', 'application/pdf','application/vnd.openxmlformats-officedocument.wordprocessingml.document']}\r\n              labelIdle='Drag & Drop your files or <span class=\"filepond--label-action\">Browse</span>'\r\n              onupdatefiles={fileItems => {\r\n                setImageOrPdf(fileItems[0]?.file ?? null);\r\n              }}\r\n            />\r\n\r\n            <DialogFooter>\r\n              <Button\r\n                onClick={handleImageUpload}\r\n                type='button'\r\n                disabled={sendingFile}\r\n              >\r\n                Send\r\n              </Button>\r\n            </DialogFooter>\r\n          </DialogContent>\r\n        </Dialog>\r\n        \r\n         \r\n       \r\n      </form>\r\n    </Form>\r\n    )\r\n}"],"names":[],"mappings":"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"}},
    {"offset": {"line": 3726, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 3732, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/user/Desktop/Nextgram/next-chat/src/components/chat-content.tsx"],"sourcesContent":["/* eslint-disable @typescript-eslint/no-non-null-asserted-optional-chain */\r\n/* eslint-disable @typescript-eslint/no-unused-vars */\r\nimport { FC, useEffect } from \"react\";\r\nimport { Id } from \"../../convex/_generated/dataModel\";\r\nimport { useQuery } from \"convex/react\";\r\nimport { api } from \"../../convex/_generated/api\";\r\nimport { useUser } from \"@clerk/clerk-react\";\r\nimport { ChatHeader } from \"@/components/chat-header\";\r\nimport { useMutationHandler } from \"@/hooks/use-mutation-handler\";\r\nimport { MessageItem } from \"./message-item\";\r\nimport { ChatFooter } from './chat-footer';\r\n\r\nexport const ChatContent: FC<{ chatId: Id<'conversations'> }> = ({\r\n    chatId,\r\n  }) => {\r\n    const conversation = useQuery(api.conversation.get, { id: chatId });\r\n    const messages = useQuery(api.messages.get, {\r\n        id: chatId as Id<'conversations'>,\r\n      });\r\n\r\n      const members = conversation?.isGroup\r\n    ? conversation?.otherMembers ?? []\r\n    : conversation?.otherMember\r\n      ? [conversation.otherMember]\r\n      : [];\r\n\r\n      const { mutate: markAsRead, state: _ } = useMutationHandler(\r\n        api.conversation.markAsRead\r\n      );\r\n\r\n      useEffect(() => {\r\n        if (messages && messages.length > 0) {\r\n          markAsRead({ conversationId: chatId, messageId: messages[0]._id });\r\n        }\r\n      }, [chatId, markAsRead, messages]);\r\n    \r\n      const getSeenMessage = (messageId: Id<'messages'>) => {\r\n        const seenUsers = members\r\n          .filter(member => member.lastSeenMessageId === messageId)\r\n          .map(member => member.username?.split(' ')[0]);\r\n    \r\n        if (seenUsers.length === 0) return undefined;\r\n    \r\n        return formatSeenBy(seenUsers);\r\n      };\r\n\r\n      const formatSeenBy = (seenUsers: (string | undefined)[]) => {\r\n        switch (seenUsers.length) {\r\n          case 1:\r\n            return `${seenUsers[0]} seen`;\r\n          case 2:\r\n            return `${seenUsers[0]} and ${seenUsers[1]} seen`;\r\n          default:\r\n            return `${seenUsers[0]}, ${seenUsers[1]} and ${\r\n              seenUsers.length - 2\r\n            } others seen`;\r\n        }\r\n      };\r\n      const { user } = useUser();\r\n\r\n      if (!conversation) return null;\r\n\r\n      const chatAvatar = conversation?.otherMember?.imageUrl || '';\r\n      const name = conversation?.isGroup\r\n      ? conversation?.name\r\n      : conversation?.otherMember?.username || '';\r\n    const status = conversation?.otherMember?.status || '';\r\n\r\n      return(\r\n        <div className='h-full flex'>\r\n            \r\n      <ChatHeader\r\n        chatAvatar={chatAvatar}\r\n        username={name!}\r\n        isGroup={conversation?.isGroup}\r\n        chatId={chatId}\r\n        status={status}\r\n      />\r\n\r\n<div className='p-3 flex flex-1 flex-col-reverse gap-2'>\r\n        {messages?.map((message, index) => (\r\n          <MessageItem\r\n            key={message._id}\r\n            content={message.content}\r\n            createdAt={message._creationTime}\r\n            lastByUser={messages[index - 1]?.senderId === message.senderId}\r\n            fromCurrentUser={message.isCurrentUser}\r\n            senderImage={message.senderImage}\r\n            senderName={message.senderName}\r\n            type={message.type}\r\n            seen={\r\n              message.isCurrentUser ? getSeenMessage(message._id) : undefined\r\n            }\r\n          />\r\n        ))}\r\n      </div>\r\n <ChatFooter  chatId={chatId} currentUserId={user?.id!}/>\r\n\r\n      </div>\r\n      );\r\n}"],"names":[],"mappings":"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"}},
    {"offset": {"line": 3866, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 3872, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/user/Desktop/Nextgram/next-chat/src/app/chats/%5BchatId%5D/page.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { Id } from '../../../../convex/_generated/dataModel';\r\n\r\nimport { NavigationBar } from '@/components/navigation-bar';\r\nimport { ChatContent } from '@/components/chat-content';\r\nimport { NewGroup } from '@/components/new-group';\r\n\r\nconst ChatId = ({\r\n  params: { chatId },\r\n}: {\r\n  params: { chatId: Id<'conversations'> };\r\n}) => {\r\n  return (\r\n    <>\r\n      <div className='hidden md:block'>\r\n        <NavigationBar trigger={<NewGroup />} />\r\n      </div>\r\n      <ChatContent chatId={chatId} />\r\n    </>\r\n  );\r\n};\r\n\r\nexport default ChatId;"],"names":[],"mappings":";;;;AAIA;AACA;AACA;AANA;;;;;AAQA,MAAM,SAAS,CAAC,EACd,QAAQ,EAAE,MAAM,EAAE,EAGnB;IACC,qBACE;;0BACE,6LAAC;gBAAI,WAAU;0BACb,cAAA,6LAAC,0IAAA,CAAA,gBAAa;oBAAC,uBAAS,6LAAC,qIAAA,CAAA,WAAQ;;;;;;;;;;;;;;;0BAEnC,6LAAC,wIAAA,CAAA,cAAW;gBAAC,QAAQ;;;;;;;;AAG3B;KAbM;uCAeS"}},
    {"offset": {"line": 3922, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}}]
}